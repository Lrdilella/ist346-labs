
<!-- saved from url=(0049)https://hub.docker.com/r/tvial/docker-mailserver/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title></title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="./hub.docker.com_files/main.css"><link rel="stylesheet" href="./hub.docker.com_files/font-awesome.min.css"><link rel="stylesheet" href="./hub.docker.com_files/main-0-bd8c1b939f4739040d02.css"><script type="text/javascript" async="" src="./hub.docker.com_files/analytics.js.download"></script><script async="" src="./hub.docker.com_files/main.min.js.download"></script><script async="" src="./hub.docker.com_files/gtm.js.download"></script><script type="text/javascript" async="" src="./hub.docker.com_files/recaptcha__en.js.download"></script><script src="./hub.docker.com_files/api.js.download" async="" defer=""></script><a href="https://hub.docker.com/r/tvial/docker-mailserver/?_pxhc=1539384088954" rel="nofollow" target="_blank" style="width: 0px; height: 0px; font-size: 0px; line-height: 0;"></a></head><body><div id="app"><main class="Application__main___hmFcL" data-reactid=".1jon6afl4ao" data-react-checksum="708620947"><div class="contain-to-grid" data-reactid=".1jon6afl4ao.1"><nav class="top-bar" data-topbar="true" role="navigation" data-reactid=".1jon6afl4ao.1.0"><section class="top-bar-section" data-reactid=".1jon6afl4ao.1.0.0"><ul class="title-area" data-reactid=".1jon6afl4ao.1.0.0.0"><li data-reactid=".1jon6afl4ao.1.0.0.0.0"><a class="" href="https://hub.docker.com/" data-reactid=".1jon6afl4ao.1.0.0.0.0.0"><img src="./hub.docker.com_files/mini-logo.svg" alt="docker logo" class="Nav__logo___2NwhF" data-reactid=".1jon6afl4ao.1.0.0.0.0.0.0"></a></li></ul><ul class="rightNav" data-reactid=".1jon6afl4ao.1.0.0.1"><li data-reactid=".1jon6afl4ao.1.0.0.1.0"><div class="row" data-reactid=".1jon6afl4ao.1.0.0.1.0.0"><form class="large-12 columns" data-reactid=".1jon6afl4ao.1.0.0.1.0.0.0"><div class="searchbar" data-reactid=".1jon6afl4ao.1.0.0.1.0.0.0.0"><input type="text" placeholder="Search" class="SearchBar__searchInput___34nC3" data-reactid=".1jon6afl4ao.1.0.0.1.0.0.0.0.0"><div class="SearchBar__fa___29w7n" data-reactid=".1jon6afl4ao.1.0.0.1.0.0.0.0.1"><i class="fa fa-search" data-reactid=".1jon6afl4ao.1.0.0.1.0.0.0.0.1.0"></i></div></div></form></div></li></ul><ul class="right" data-reactid=".1jon6afl4ao.1.0.0.2"><li data-reactid=".1jon6afl4ao.1.0.0.2.0"><a class="" href="https://hub.docker.com/explore/" data-reactid=".1jon6afl4ao.1.0.0.2.0.0">Explore</a></li><li data-reactid=".1jon6afl4ao.1.0.0.2.1"><a class="" href="https://hub.docker.com/help/" data-reactid=".1jon6afl4ao.1.0.0.2.1.0">Help</a></li><li data-reactid=".1jon6afl4ao.1.0.0.2.2"><button class="button tiny primary" type="button" data-reactid=".1jon6afl4ao.1.0.0.2.2.0">Sign up</button></li><li data-reactid=".1jon6afl4ao.1.0.0.2.3"><a class="tiny" href="https://hub.docker.com/login/" data-reactid=".1jon6afl4ao.1.0.0.2.3.0">Sign In</a></li></ul></section></nav></div><div class="full-width repository-page" data-reactid=".1jon6afl4ao.2"><div class="RepositoryPageWrapper__repoHeader___1-_FS" data-reactid=".1jon6afl4ao.2.0"><div class="row" data-reactid=".1jon6afl4ao.2.0.0"><div class="large-12 columns" data-reactid=".1jon6afl4ao.2.0.0.0"><div class="RepositoryPageWrapper__repoLabel___1668D" data-reactid=".1jon6afl4ao.2.0.0.0.0"><div data-reactid=".1jon6afl4ao.2.0.0.0.0.0"><span data-reactid=".1jon6afl4ao.2.0.0.0.0.0.0">Public</span><span data-reactid=".1jon6afl4ao.2.0.0.0.0.0.1"> | Automated Build</span></div></div><h2 class="RepositoryPageWrapper__repoTitle___3r12T" data-reactid=".1jon6afl4ao.2.0.0.0.1"><div data-reactid=".1jon6afl4ao.2.0.0.0.1.0"><a class="" href="https://hub.docker.com/u/tvial/" data-reactid=".1jon6afl4ao.2.0.0.0.1.0.0">tvial</a><span data-reactid=".1jon6afl4ao.2.0.0.0.1.0.1">/</span><a class="" href="https://hub.docker.com/r/tvial/docker-mailserver/" data-reactid=".1jon6afl4ao.2.0.0.0.1.0.2">docker-mailserver</a><span class="RepositoryPageWrapper__repoStar___2rscF" data-reactid=".1jon6afl4ao.2.0.0.0.1.0.3"><i class="fa fa-star-o" data-reactid=".1jon6afl4ao.2.0.0.0.1.0.3.0"></i></span></div></h2><span class="RepositoryPageWrapper__repoSubtitle___34EVq" data-reactid=".1jon6afl4ao.2.0.0.0.2"><span data-reactid=".1jon6afl4ao.2.0.0.0.2.0">Last pushed: </span><span data-reactid=".1jon6afl4ao.2.0.0.0.2.1">12 days ago</span></span></div></div></div><div data-reactid=".1jon6afl4ao.2.1"><div class="secondary-contain-to-grid" data-reactid=".1jon6afl4ao.2.1.0"><nav class="secondary-top-bar" data-topbar="true" role="navigation" data-reactid=".1jon6afl4ao.2.1.0.0"><section class="secondary-top-bar-section" data-reactid=".1jon6afl4ao.2.1.0.0.0"><ul class="left" data-reactid=".1jon6afl4ao.2.1.0.0.0.0"><li class="active" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.$repoDetailsInfo"><a class="" href="https://hub.docker.com/r/tvial/docker-mailserver/" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.$repoDetailsInfo.0">Repo Info</a></li><li class="" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.$repoDetailsTags"><a class="" href="https://hub.docker.com/r/tvial/docker-mailserver/tags/" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.$repoDetailsTags.0">Tags</a></li><li class="" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.2:$dockerfile"><a class="" href="https://hub.docker.com/r/tvial/docker-mailserver/~/dockerfile/" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.2:$dockerfile.0">Dockerfile</a></li><li class="" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.2:$buildsMain"><a class="" href="https://hub.docker.com/r/tvial/docker-mailserver/builds/" data-reactid=".1jon6afl4ao.2.1.0.0.0.0.2:$buildsMain.0">Build Details</a></li></ul></section></nav></div><div class="RepositoryDetailsWrapper__repoDetailsContent___1gg2B" data-reactid=".1jon6afl4ao.2.1.1"><div class="row" data-reactid=".1jon6afl4ao.2.1.1.0"><div class="large-12 columns" data-reactid=".1jon6afl4ao.2.1.1.0.0"><div data-reactid=".1jon6afl4ao.2.1.1.0.0.0"><div class="row" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0"><div class="large-8 columns" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0"><div class="Card__card___1LRg9" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.0"><div class="Card__header___3uXHA Card__caps___3TLrF" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.0.0"><span class="Card__heading___1mYyK Card__ellipseOverflow___axg3D" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.0.0.0">Short Description</span></div><div class="Card__block___1G9Iy" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.0.1"><div data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.0.1.0"><span data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.0.1.0.0"></span><span data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.0.1.0.1">A fullstack but simple mail server (smtp, imap, antispam, antivirus...).</span></div></div></div><div class="Card__card___1LRg9" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.1"><div class="Card__header___3uXHA Card__caps___3TLrF" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.1.0"><span class="Card__heading___1mYyK Card__ellipseOverflow___axg3D" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.1.0.0">Full Description</span></div><div class="Card__block___1G9Iy" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.1.1"><div data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.1.1.0"><span data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.1.1.0.0"></span><div class="Markdown__markdown___527C8" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.0.1.1.0.1"><h1>docker-mailserver</h1>
<p><a href="https://travis-ci.org/tomav/docker-mailserver"><img src="./hub.docker.com_files/failing.svg"></a> <a href="https://hub.docker.com/r/tvial/docker-mailserver/"><img src="./hub.docker.com_files/docker-mailserver.svg"></a> <a href="https://microbadger.com/images/tvial/docker-mailserver"><img src="./hub.docker.com_files/docker-mailserver(1).svg"></a> <a href="https://github.com/tomav/docker-mailserver/"><img src="https://img.shields.io/github/stars/tomav/docker-mailserver.svg?label=github%20%E2%98%85"></a> <a href="https://github.com/tomav/docker-mailserver/"><img src="https://img.shields.io/github/contributors/tomav/docker-mailserver.svg"></a> <a href="https://github.com/tomav/docker-mailserver/"><img src="https://img.shields.io/github/forks/tomav/docker-mailserver.svg?label=github%20forks"></a> <a href="https://gitter.im/tomav/docker-mailserver"><img src="https://img.shields.io/gitter/room/tomav/docker-mailserver.svg"></a></p>
<p>A fullstack but simple mail server (smtp, imap, antispam, antivirus...).<br>Only configuration files, no SQL database. Keep it simple and versioned.<br>Easy to deploy and upgrade.</p>
<p>Includes:</p>
<ul>
<li>postfix with smtp or ldap auth</li>
<li>dovecot for sasl, imap (and optional pop3) with ssl support, with ldap auth</li>
<li>saslauthd with ldap auth</li>
<li><a href="https://www.amavis.org/">amavis</a></li>
<li><a href="http://spamassassin.apache.org/">spamassasin</a> supporting custom rules</li>
<li><a href="https://www.clamav.net/">clamav</a> with automatic updates</li>
<li>opendkim</li>
<li>opendmarc</li>
<li><a href="https://www.fail2ban.org/wiki/index.php/Main_Page">fail2ban</a></li>
<li><a href="http://www.fetchmail.info/fetchmail-man.html">fetchmail</a></li>
<li><a href="http://www.postfix.org/POSTSCREEN_README.html">postscreen</a></li>
<li><a href="https://postgrey.schweikert.ch/">postgrey</a></li>
<li>basic <a href="https://github.com/tomav/docker-mailserver/wiki/Configure-Sieve-filters">sieve support</a> using dovecot</li>
<li><a href="https://letsencrypt.org/">LetsEncrypt</a> and self-signed certificates</li>
<li><a href="https://github.com/tomav/docker-mailserver/wiki/Setup-docker-mailserver-using-the-script-setup.sh">setup script</a> to easily configure and maintain your mailserver</li>
<li>persistent data and state (but think about backups!)</li>
<li><a href="https://travis-ci.org/tomav/docker-mailserver">integration tests</a></li>
<li><a href="https://hub.docker.com/r/tvial/docker-mailserver/">automated builds on docker hub</a></li>
</ul>
<p>Why I created this image: <a href="http://tvi.al/simple-mail-server-with-docker/">Simple mail server with Docker</a></p>
<p>Before you open an issue, please have a look this <code>README</code>, the <a href="https://github.com/tomav/docker-mailserver/wiki/">Wiki</a> and Postfix/Dovecot documentation.</p>
<h2>Requirements</h2>
<p>Recommended:</p>
<ul>
<li>1 CPU</li>
<li>1GB RAM</li>
</ul>
<p>Minimum:</p>
<ul>
<li>1 CPU</li>
<li>512MB RAM</li>
</ul>
<p><strong>Note:</strong> You'll need to deactivate some services like ClamAV to be able to run on a host with 512MB of RAM.</p>
<h2>Usage</h2>
<h4>Get latest image</h4>
<pre><code>docker pull tvial/docker-mailserver:latest
</code></pre><h4>Get the tools</h4>
<p>Download the docker-compose.yml, the .env and the setup.sh files:</p>
<pre><code>curl -o setup.sh https://raw.githubusercontent.com/tomav/docker-mailserver/master/setup.sh; chmod a+x ./setup.sh

curl -o docker-compose.yml https://raw.githubusercontent.com/tomav/docker-mailserver/master/docker-compose.yml.dist

curl -o .env https://raw.githubusercontent.com/tomav/docker-mailserver/master/.env.dist
</code></pre><h4>Create a docker-compose environment</h4>
<ul>
<li>Edit the <code>.env</code> to your liking. Adapt this file with your FQDN.</li>
<li>Install <a href="https://docs.docker.com/compose/">docker-compose</a> in the version <code>1.6</code> or higher.</li>
</ul>
<h4>Create your mail accounts</h4>
<pre><code>./setup.sh email add &lt;user@domain&gt; [&lt;password&gt;]
</code></pre><h4>Generate DKIM keys</h4>
<pre><code>./setup.sh config dkim
</code></pre><p>Now the keys are generated, you can configure your DNS server by just pasting the content of <code>config/opendkim/keys/domain.tld/mail.txt</code> in your <code>domain.tld.hosts</code> zone.</p>
<h4>Start the container</h4>
<pre><code>docker-compose up -d mail
</code></pre><p>You're done!</p>
<p>And don't forget to have a look at the remaining functions of the <code>setup.sh</code> script</p>
<h4>SPF/Forwarding Problems</h4>
<p>If you got any problems with SPF and/or forwarding mails, give <a href="https://github.com/roehling/postsrsd/blob/master/README.md">SRS</a> a try. You enable SRS by setting <code>ENABLE_SRS=1</code>. See the variable description for further information.</p>
<h4>For informational purposes:</h4>
<p>Your config folder will be mounted in <code>/tmp/docker-mailserver/</code>. To understand how things work on boot, please have a look at <a href="https://github.com/tomav/docker-mailserver/blob/master/target/start-mailserver.sh">start-mailserver.sh</a></p>
<p><code>restart: always</code> ensures that the mail server container (and ELK container when using the mail server together with ELK stack) is automatically restarted by Docker in cases like a Docker service or host restart or container exit.</p>
<h4>Exposed ports</h4>
<ul>
<li>25 receiving email from other mailservers</li>
<li>465 SSL Client email submission</li>
<li>587 TLS Client email submission</li>
<li>143 StartTLS IMAP client</li>
<li>993 TLS/SSL IMAP client</li>
<li>110 POP3 client</li>
<li>995 TLS/SSL POP3 client</li>
</ul>
<p><code>Note: Port 25 is only for receiving email from other mailservers and not for submitting email. You need to use port 465 or 587 for this.</code></p>
<h5>Examples with just the relevant environmental variables:</h5>
<pre><code>version: '2'

services:
  mail:
    image: tvial/docker-mailserver:latest
    hostname: mail
    domainname: domain.com
    container_name: mail
    ports:
    - "25:25"
    - "143:143"
    - "587:587"
    - "993:993"
    volumes:
    - maildata:/var/mail
    - mailstate:/var/mail-state
    - ./config/:/tmp/docker-mailserver/
    environment:
    - ENABLE_SPAMASSASSIN=1
    - ENABLE_CLAMAV=1
    - ENABLE_FAIL2BAN=1
    - ENABLE_POSTGREY=1
    - ONE_DIR=1
    - DMS_DEBUG=0
    cap_add:
    - NET_ADMIN
    - SYS_PTRACE

volumes:
  maildata:
    driver: local
  mailstate:
    driver: local
</code></pre>
<p><strong>for ldap setup</strong>:</p>
<pre><code>version: '2'

services:
  mail:
    image: tvial/docker-mailserver:latest
    hostname: mail
    domainname: domain.com
    container_name: mail
    ports:
      - "25:25"
      - "143:143"
      - "587:587"
      - "993:993"
    volumes:
      - maildata:/var/mail
      - mailstate:/var/mail-state
      - ./config/:/tmp/docker-mailserver/
    environment:
      - ENABLE_SPAMASSASSIN=1
      - ENABLE_CLAMAV=1
      - ENABLE_FAIL2BAN=1
      - ENABLE_POSTGREY=1
      - ONE_DIR=1
      - DMS_DEBUG=0
      - ENABLE_LDAP=1
      - LDAP_SERVER_HOST=ldap # your ldap container/IP/ServerName
      - LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain
      - LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain
      - LDAP_BIND_PW=admin
      - LDAP_QUERY_FILTER_USER="(&amp;(mail=%s)(mailEnabled=TRUE))"
      - LDAP_QUERY_FILTER_GROUP="(&amp;(mailGroupMember=%s)(mailEnabled=TRUE))"
      - LDAP_QUERY_FILTER_ALIAS="(&amp;(mailAlias=%s)(mailEnabled=TRUE))"
      - DOVECOT_PASS_FILTER="(&amp;(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))"
      - DOVECOT_USER_FILTER="(&amp;(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))"
      - ENABLE_SASLAUTHD=1
      - SASLAUTHD_MECHANISMS=ldap
      - SASLAUTHD_LDAP_SERVER=ldap
      - SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain
      - SASLAUTHD_LDAP_PASSWORD=admin
      - SASLAUTHD_LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain
      - POSTMASTER_ADDRESS=postmaster@localhost.localdomain
    cap_add:
      - NET_ADMIN
      - SYS_PTRACE

volumes:
  maildata:
    driver: local
  mailstate:
    driver: local
</code></pre>
<h1>Environment variables</h1>
<p>Please check <a href="https://github.com/tomav/docker-mailserver/blob/master/target/start-mailserver.sh">how the container starts</a> to understand what's expected. Also if an option doesn't work as documented here, check if you are running the latest image!</p>
<p>Value in <strong>bold</strong> is the default value.</p>
<h2>General</h2>
<h5>DMS_DEBUG</h5>
<ul>
<li><strong>0</strong> =&gt; Debug disabled</li>
<li>1 =&gt; Enables debug on startup</li>
</ul>
<h5>ENABLE_CLAMAV</h5>
<ul>
<li><strong>0</strong> =&gt; Clamav is disabled</li>
<li>1 =&gt; Clamav is enabled</li>
</ul>
<h5>ONE_DIR</h5>
<ul>
<li><strong>0</strong> =&gt; state in default directories</li>
<li>1 =&gt; consolidate all states into a single directory (<code>/var/mail-state</code>) to allow persistence using docker volumes</li>
</ul>
<h5>ENABLE_POP3</h5>
<ul>
<li><strong>empty</strong> =&gt; POP3 service disabled</li>
<li>1 =&gt; Enables POP3 service</li>
</ul>
<h5>ENABLE_FAIL2BAN</h5>
<ul>
<li><strong>0</strong> =&gt; fail2ban service disabled</li>
<li>1 =&gt; Enables fail2ban service</li>
</ul>
<p>If you enable Fail2Ban, don't forget to add the following lines to your <code>docker-compose.yml</code>:</p>
<pre><code>cap_add:
  - NET_ADMIN
</code></pre><p>Otherwise, <code>iptables</code> won't be able to ban IPs.</p>
<h5>SMTP_ONLY</h5>
<ul>
<li><strong>empty</strong> =&gt; all daemons start</li>
<li>1 =&gt; only launch postfix smtp</li>
</ul>
<h5>SSL_TYPE</h5>
<ul>
<li><strong>empty</strong> =&gt; SSL disabled</li>
<li>letsencrypt =&gt; Enables Let's Encrypt certificates</li>
<li>custom =&gt; Enables custom certificates</li>
<li>manual =&gt; Let's you manually specify locations of your SSL certificates for non-standard cases</li>
<li>self-signed =&gt; Enables self-signed certificates</li>
</ul>
<p>Please read <a href="https://github.com/tomav/docker-mailserver/wiki/Configure-SSL">the SSL page in the wiki</a> for more information.</p>
<h5>TLS_LEVEL</h5>
<ul>
<li><strong>empty</strong> =&gt; modern</li>
<li>modern =&gt; Enables TLSv1.2 and modern ciphers only. (default)</li>
<li>intermediate =&gt; Enables TLSv1, TLSv1.1 and TLSv1.2 and broad compatibility ciphers.</li>
<li>old =&gt; NOT implemented. If you really need it, then customize the TLS ciphers overriding postfix and dovecot settings [ wiki](<a href="https://github.com/tomav/docker-mailserver/wiki/">https://github.com/tomav/docker-mailserver/wiki/</a></li>
</ul>
<h5>SPOOF_PROTECTION</h5>
<p>Configures the handling of creating mails with forged sender addresses.</p>
<ul>
<li><strong>empty</strong> =&gt; Mail address spoofing allowed. Any logged in user may create email messages with a forged sender address. See also <a href="https://en.wikipedia.org/wiki/Email_spoofing">Wikipedia</a>(not recommended, but default for backwards compatibility reasons)</li>
<li>1 =&gt; (recommended) Mail spoofing denied. Each user may only send with his own or his alias addresses. Addresses with <a href="http://www.postfix.org/postconf.5.html#recipient_delimiter">extension delimiters</a> are not able to send messages.</li>
</ul>
<h5>ENABLE_SRS</h5>
<p>Enables the Sender Rewriting Scheme. SRS is needed if your mail server acts as forwarder. See <a href="https://github.com/roehling/postsrsd/blob/master/README.md#sender-rewriting-scheme-crash-course">postsrsd</a> for further explanation.</p>
<ul>
<li><strong>0</strong> =&gt; Disabled</li>
<li>1 =&gt; Enabled</li>
</ul>
<h5>PERMIT_DOCKER</h5>
<p>Set different options for mynetworks option (can be overwrite in postfix-main.cf)</p>
<ul>
<li><strong>empty</strong> =&gt; localhost only</li>
<li>host =&gt; Add docker host (ipv4 only)</li>
<li>network =&gt; Add all docker containers (ipv4 only)</li>
</ul>
<h5>VIRUSMAILS_DELETE_DELAY</h5>
<p>Set how many days a virusmail will stay on the server before being deleted</p>
<ul>
<li><strong>empty</strong> =&gt; 7 days</li>
</ul>
<h5>ENABLE_POSTFIX_VIRTUAL_TRANSPORT</h5>
<p>This Option is activating the Usage of POSTFIX_DAGENT to specify a ltmp client different from default dovecot socket.</p>
<ul>
<li><strong>empty</strong> =&gt; disabled</li>
<li>1 =&gt; enabled</li>
</ul>
<h5>POSTFIX_DAGENT</h5>
<p>Enabled by ENABLE_POSTFIX_VIRTUAL_TRANSPORT. Specify the final delivery of postfix</p>
<ul>
<li><strong>empty</strong>: fail</li>
<li><code>lmtp:unix:private/dovecot-lmtp</code> (use socket)</li>
<li><code>lmtps:inet:&lt;host&gt;:&lt;port&gt;</code> (secure lmtp with starttls, take a look at <a href="https://sys4.de/en/blog/2014/11/17/sicheres-lmtp-mit-starttls-in-dovecot/">https://sys4.de/en/blog/2014/11/17/sicheres-lmtp-mit-starttls-in-dovecot/</a>)</li>
<li><code>lmtp:&lt;kopano-host&gt;:2003</code> (use kopano as mailstore)</li>
<li>etc.</li>
</ul>
<h5>ENABLE_MANAGESIEVE</h5>
<ul>
<li><strong>empty</strong> =&gt; Managesieve service disabled</li>
<li>1 =&gt; Enables Managesieve on port 4190</li>
</ul>
<h5>OVERRIDE_HOSTNAME</h5>
<ul>
<li><strong>empty</strong> =&gt; uses the <code>hostname</code> command to get the mail server's canonical hostname</li>
<li>=&gt; Specify a fully-qualified domainname to serve mail for.  This is used for many of the config features so if you can't set your hostname (e.g. you're in a container platform that doesn't let you) specify it in this environment variable.</li>
</ul>
<h5>POSTMASTER_ADDRESS</h5>
<ul>
<li><strong>empty</strong> =&gt; <a href="mailto:postmaster@domain.com">postmaster@domain.com</a></li>
<li>=&gt; Specify the postmaster address</li>
</ul>
<h5>POSTSCREEN_ACTION</h5>
<ul>
<li><strong>enforce</strong> =&gt; Allow other tests to complete. Reject attempts to deliver mail with a 550 SMTP reply, and log the helo/sender/recipient information. Repeat this test the next time the client connects.</li>
<li>drop =&gt; Drop the connection immediately with a 521 SMTP reply. Repeat this test the next time the client connects.</li>
<li>ignore =&gt; Ignore the failure of this test. Allow other tests to complete. Repeat this test the next time the client connects. This option is useful for testing and collecting statistics without blocking mail.</li>
</ul>
<h5>REPORT_RECIPIENT</h5>
<p>  Enables a report being sent (created by pflogsumm) on a regular basis.</p>
<ul>
<li><strong>0</strong> =&gt; Report emails are disabled</li>
<li>1 =&gt; Using POSTMASTER_ADDRESS as the recipient</li>
<li>=&gt; Specify the recipient address</li>
</ul>
<h5>REPORT_SENDER</h5>
<p>  Change the sending address for mail report</p>
<ul>
<li><strong>empty</strong> =&gt; mailserver-report@hostname</li>
<li>=&gt; Specify the report sender (From) address</li>
</ul>
<h5>REPORT_INTERVAL</h5>
<p>  changes the interval in which a report is being sent.</p>
<ul>
<li><strong>daily</strong> =&gt; Send a daily report</li>
<li>weekly =&gt; Send a report every week</li>
<li>monthly =&gt; Send a report every month</li>
</ul>
<p>Note: This Variable actually controls logrotate inside the container and rotates the log depending on this setting. The main log output is still available in its entirety via <code>docker logs mail</code> (Or your respective container name). If you want to control logrotation for the docker generated logfile see: <a href="https://docs.docker.com/config/containers/logging/configure/">Docker Logging Drivers</a></p>
<h2>Spamassassin</h2>
<h5>ENABLE_SPAMASSASSIN</h5>
<ul>
<li><strong>0</strong> =&gt; Spamassassin is disabled</li>
<li>1 =&gt; Spamassassin is enabled</li>
</ul>
<h5>SA_TAG</h5>
<ul>
<li><strong>2.0</strong> =&gt; add spam info headers if at, or above that level</li>
</ul>
<p>Note: this spamassassin setting needs <code>ENABLE_SPAMASSASSIN=1</code></p>
<h5>SA_TAG2</h5>
<ul>
<li><strong>6.31</strong> =&gt; add 'spam detected' headers at that level</li>
</ul>
<p>Note: this spamassassin setting needs <code>ENABLE_SPAMASSASSIN=1</code></p>
<h5>SA_KILL</h5>
<ul>
<li><strong>6.31</strong> =&gt; triggers spam evasive actions</li>
</ul>
<p>Note: this spamassassin setting needs <code>ENABLE_SPAMASSASSIN=1</code></p>
<h5>SA_SPAM_SUBJECT</h5>
<ul>
<li><strong>***SPAM***</strong> =&gt; add tag to subject if spam detected</li>
</ul>
<p>Note: this spamassassin setting needs <code>ENABLE_SPAMASSASSIN=1</code></p>
<h2>Fetchmail</h2>
<h5>ENABLE_FETCHMAIL</h5>
<ul>
<li><strong>0</strong> =&gt; <code>fetchmail</code> disabled</li>
<li>1 =&gt; <code>fetchmail</code> enabled</li>
</ul>
<h5>FETCHMAIL_POLL</h5>
<ul>
<li><strong>300</strong> =&gt; <code>fetchmail</code> The number of seconds for the interval</li>
</ul>
<h2>LDAP</h2>
<h5>ENABLE_LDAP</h5>
<ul>
<li><strong>empty</strong> =&gt; LDAP authentification is disabled</li>
<li>1 =&gt; LDAP authentification is enabled</li>
<li>NOTE:<ul>
<li>A second container for the ldap service is necessary (e.g. <a href="https://github.com/osixia/docker-openldap">docker-openldap</a>)</li>
<li>For preparing the ldap server to use in combination with this continer <a href="http://acidx.net/wordpress/2014/06/installing-a-mailserver-with-postfix-dovecot-sasl-ldap-roundcube/">this</a> article may be helpful</li>
</ul>
</li>
</ul>
<h5>LDAP_START_TLS</h5>
<ul>
<li><strong>empty</strong> =&gt; no</li>
<li>yes =&gt; LDAP over TLS enabled for Postfix</li>
</ul>
<h5>LDAP_SERVER_HOST</h5>
<ul>
<li><strong>empty</strong> =&gt; mail.domain.com</li>
<li>=&gt; Specify the dns-name/ip-address where the ldap-server</li>
<li>NOTE: If you going to use the mailserver in combination with docker-compose you can set the service name here</li>
</ul>
<h5>LDAP_SEARCH_BASE</h5>
<ul>
<li><strong>empty</strong> =&gt; ou=people,dc=domain,dc=com</li>
<li>=&gt; e.g. LDAP_SEARCH_BASE=dc=mydomain,dc=local</li>
</ul>
<h5>LDAP_BIND_DN</h5>
<ul>
<li><strong>empty</strong> =&gt; cn=admin,dc=domain,dc=com</li>
<li>=&gt; take a look at examples of SASL_LDAP_BIND_DN</li>
</ul>
<h5>LDAP_BIND_PW</h5>
<ul>
<li><strong>empty</strong> =&gt; admin</li>
<li>=&gt; Specify the password to bind against ldap</li>
</ul>
<h5>LDAP_QUERY_FILTER_USER</h5>
<ul>
<li>e.g. <code>"(&amp;(mail=%s)(mailEnabled=TRUE))"</code></li>
<li>=&gt; Specify how ldap should be asked for users</li>
</ul>
<h5>LDAP_QUERY_FILTER_GROUP</h5>
<ul>
<li>e.g. <code>"(&amp;(mailGroupMember=%s)(mailEnabled=TRUE))"</code></li>
<li>=&gt; Specify how ldap should be asked for groups</li>
</ul>
<h5>LDAP_QUERY_FILTER_ALIAS</h5>
<ul>
<li>e.g. <code>"(&amp;(mailAlias=%s)(mailEnabled=TRUE))"</code></li>
<li>=&gt; Specify how ldap should be asked for aliases</li>
</ul>
<h5>DOVECOT_TLS</h5>
<ul>
<li><strong>empty</strong> =&gt; no</li>
<li>yes =&gt; LDAP over TLS enabled for Dovecot</li>
</ul>
<h2>Dovecot</h2>
<h5>DOVECOT_USER_FILTER</h5>
<ul>
<li>e.g. <code>"(&amp;(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))"</code></li>
</ul>
<h5>DOVECOT_PASS_FILTER</h5>
<ul>
<li>e.g. <code>"(&amp;(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))"</code></li>
</ul>
<h2>Postgrey</h2>
<h5>ENABLE_POSTGREY</h5>
<ul>
<li><strong>0</strong> =&gt; <code>postgrey</code> is disabled</li>
<li>1 =&gt; <code>postgrey</code> is enabled</li>
</ul>
<h5>POSTGREY_DELAY</h5>
<ul>
<li><strong>300</strong> =&gt; greylist for N seconds</li>
</ul>
<p>Note: This postgrey setting needs <code>ENABLE_POSTGREY=1</code></p>
<h5>POSTGREY_MAX_AGE</h5>
<ul>
<li><strong>35</strong> =&gt; delete entries older than N days since the last time that they have been seen</li>
</ul>
<p>Note: This postgrey setting needs <code>ENABLE_POSTGREY=1</code></p>
<h5>POSTGREY_TEXT</h5>
<ul>
<li><strong>Delayed by postgrey</strong> =&gt; response when a mail is greylisted</li>
</ul>
<p>Note: This postgrey setting needs <code>ENABLE_POSTGREY=1</code></p>
<h2>SASL Auth</h2>
<h5>ENABLE_SASLAUTHD</h5>
<ul>
<li><strong>0</strong> =&gt; <code>saslauthd</code> is disabled</li>
<li>1 =&gt; <code>saslauthd</code> is enabled</li>
</ul>
<h5>SASLAUTHD_MECHANISMS</h5>
<ul>
<li>empty =&gt; pam</li>
<li><code>ldap</code> =&gt; authenticate against ldap server</li>
<li><code>shadow</code> =&gt; authenticate against local user db</li>
<li><code>mysql</code> =&gt; authenticate against mysql db</li>
<li><code>rimap</code> =&gt; authenticate against imap server</li>
<li>NOTE: can be a list of mechanisms like pam ldap shadow</li>
</ul>
<h5>SASLAUTHD_MECH_OPTIONS</h5>
<ul>
<li>empty =&gt; None</li>
<li>e.g. with SASLAUTHD_MECHANISMS rimap you need to specify the ip-address/servername of the imap server  ==&gt; xxx.xxx.xxx.xxx</li>
</ul>
<h5>SASLAUTHD_LDAP_SERVER</h5>
<ul>
<li>empty =&gt; localhost</li>
</ul>
<h5>SASLAUTHD_LDAP_SSL</h5>
<ul>
<li>empty or 0 =&gt; <code>ldap://</code> will be used</li>
<li>1 =&gt; <code>ldaps://</code> will be used</li>
</ul>
<h5>SASLAUTHD_LDAP_BIND_DN</h5>
<ul>
<li>empty =&gt; anonymous bind</li>
<li>specify an object with priviliges to search the directory tree</li>
<li>e.g. active directory: SASLAUTHD_LDAP_BIND_DN=cn=Administrator,cn=Users,dc=mydomain,dc=net</li>
<li>e.g. openldap: SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=mydomain,dc=net</li>
</ul>
<h5>SASLAUTHD_LDAP_PASSWORD</h5>
<ul>
<li>empty =&gt; anonymous bind</li>
</ul>
<h5>SASLAUTHD_LDAP_SEARCH_BASE</h5>
<ul>
<li>empty =&gt; Reverting to SASLAUTHD_MECHANISMS pam</li>
<li>specify the search base</li>
</ul>
<h5>SASLAUTHD_LDAP_FILTER</h5>
<ul>
<li>empty =&gt; default filter <code>(&amp;(uniqueIdentifier=%u)(mailEnabled=TRUE))</code></li>
<li>e.g. for active directory: <code>(&amp;(sAMAccountName=%U)(objectClass=person))</code></li>
<li>e.g. for openldap: <code>(&amp;(uid=%U)(objectClass=person))</code></li>
</ul>
<h5>SASL_PASSWD</h5>
<ul>
<li><strong>empty</strong> =&gt; No sasl_passwd will be created</li>
<li>string =&gt; <code>/etc/postfix/sasl_passwd</code> will be created with the string as password</li>
</ul>
<h2>SRS (Sender Rewriting Scheme)</h2>
<h5>SRS_EXCLUDE_DOMAINS</h5>
<ul>
<li><strong>empty</strong> =&gt; Envelope sender will be rewritten for all domains</li>
<li>provide comma seperated list of domains to exclude from rewriting</li>
</ul>
<h5>SRS_SECRET</h5>
<ul>
<li><strong>empty</strong> =&gt; generated when the container is started for the first time</li>
<li>provide a secret to use in base64</li>
<li>you may specify multiple keys, comma separated. the first one is used for signing and the remaining will be used for verification. this is how you rotate and expire keys</li>
<li>if you have a cluster/swarm make sure the same keys are on all nodes</li>
<li>example command to generate a key: <code>dd if=/dev/urandom bs=24 count=1 2&gt;/dev/null | base64</code></li>
</ul>
<h5>SRS_DOMAINNAME</h5>
<ul>
<li><strong>empty</strong> =&gt; Derived from OVERRIDE_HOSTNAME, DOMAINNAME, or the container's hostname</li>
<li>Set this if auto-detection fails, isn't what you want, or you wish to have a separate container handle DSNs</li>
</ul>
<h2>Multi-domain Relay Hosts</h2>
<h4>RELAY_HOST</h4>
<ul>
<li><strong>empty</strong> =&gt; don't configure relay host</li>
<li>default host to relay mail through</li>
</ul>
<h4>RELAY_PORT</h4>
<ul>
<li><strong>empty</strong> =&gt; 25</li>
<li>default port to relay mail through</li>
</ul>
<h4>RELAY_USER</h4>
<ul>
<li><strong>empty</strong> =&gt; no default</li>
<li>default relay username (if no specific entry exists in postfix-sasl-password.cf)</li>
</ul>
<h4>RELAY_PASSWORD</h4>
<ul>
<li><strong>empty</strong> =&gt; no default</li>
<li>password for default relay user</li>
</ul>
</div></div></div></div></div><div class="large-4 columns" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1"><div class="Card__card___1LRg9" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0"><div class="Card__header___3uXHA Card__caps___3TLrF" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0.0"><span class="Card__heading___1mYyK Card__ellipseOverflow___axg3D" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0.0.0">Docker Pull Command</span><span class="Card__action___1RhJi Card__caps___3TLrF" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0.0.1:$copy"><i class="fa fa-clipboard" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0.0.1:$copy.0"></i></span></div><div class="Card__block___1G9Iy" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0.1"><div class="PullCommand__pullCommand___3N0iQ" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0.1.0"><input class="PullCommand__pullCommand___3N0iQ" value="docker pull tvial/docker-mailserver" readonly="" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.0.1.0.0"></div></div></div><div class="Card__card___1LRg9" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.1"><div class="Card__header___3uXHA Card__caps___3TLrF" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.1.0"><span class="Card__heading___1mYyK Card__ellipseOverflow___axg3D" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.1.0.0">Owner</span></div><div class="Card__block___1G9Iy" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.1.1"><div class="Owner__detail___3RhWe" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.1.1.0"><img src="https://hub.docker.com/v2/users/tvial/avatar/" class="Owner__avatar___13es5" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.1.1.0.0"><div class="Owner__username___2PFej" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.1.1.0.1">tvial</div></div></div></div><div class="Card__card___1LRg9" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2"><div class="Card__header___3uXHA Card__caps___3TLrF" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2.0"><span class="Card__heading___1mYyK Card__ellipseOverflow___axg3D" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2.0.0">Source Repository</span></div><div class="Card__block___1G9Iy" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2.1"><span data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2.1.0"><i class="fa fa-github" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2.1.0.0"></i><span data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2.1.0.1">&nbsp;&nbsp;</span><a href="https://github.com/tomav/docker-mailserver" data-reactid=".1jon6afl4ao.2.1.1.0.0.0.0.1.2.1.0.2">tomav/docker-mailserver</a></span></div></div></div></div></div></div></div></div></div></div></main></div><script>window.App={"context":{"dispatcher":{"stores":{"ApplicationStore":{"route":{"routes":[{"name":"app","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"childRoutes":[{"name":"login","path":"\u002Flogin\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    }},{"name":"forgotPass","path":"\u002Freset-password\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    }},{"name":"resetPass","path":"\u002Faccount\u002Fpassword-reset-confirm\u002F:uidb64\u002F:reset_token\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"passChangeSuccess","path":"\u002Faccount\u002Fpassword-reset-confirm\u002Fsuccess\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"dashboard","path":"\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"dashboardHome","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},"childRoutes":[{"name":"dashStars","path":"stars\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"dashContribs","path":"contributed\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"userWrapper","path":"\u002Fu\u002F:user\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"user","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},"childRoutes":[{"name":"userStars","path":"starred\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"orgDashboard","path":"\u002Fu\u002F:user\u002Fdashboard\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"orgDashHome","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},"childRoutes":[{"name":"orgDashTeams","path":"teams\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"orgDashBilling","path":"billing\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"createOrgSubscription","path":"billing\u002Fcreate-subscription\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"updateOrgBillingInfo","path":"billing\u002Fupdate-info\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"orgDashSettings","path":"settings\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"organizations","path":"organizations\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    },"indexRoute":{"name":"orgSummary","component":function OrganizationSummary() {
	    _classCallCheck(this, OrganizationSummary);

	    _get(Object.getPrototypeOf(OrganizationSummary.prototype), 'constructor', this).apply(this, arguments);
	  }},"childRoutes":[{"name":"addOrg","path":"add\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"addRepo","path":"add\u002Frepository\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"autobuildGithub","path":"add\u002Fautomated-build\u002Fgithub\u002Fform\u002F:sourceRepoNamespace\u002F:sourceRepoName\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"autobuildBitbucket","path":"add\u002Fautomated-build\u002Fbitbucket\u002Fform\u002F:sourceRepoNamespace\u002F:sourceRepoName\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"path":"add\u002Fautomated-build\u002F:userNamespace\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"addAutoBuild","component":function AutobuildIndex() {
	    _classCallCheck(this, AutobuildIndex);

	    _get(Object.getPrototypeOf(AutobuildIndex.prototype), 'constructor', this).apply(this, arguments);
	  }},"childRoutes":[{"name":"autobuildGithubOrgs","path":"github\u002Forgs\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"autobuildBitbucketOrgs","path":"bitbucket\u002Forgs\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"githubScopes","path":"account\u002Fauthorized-services\u002Fgithub-permissions\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"repoOfficialWrapper","path":"\u002F_\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"childRoutes":[{"name":"repoOfficialDetails","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"childRoutes":[{"name":"repoOfficial","path":"*\u002F","component":function RepositoryDetailsInfo() {
	    _classCallCheck(this, RepositoryDetailsInfo);

	    _get(Object.getPrototypeOf(RepositoryDetailsInfo.prototype), 'constructor', this).apply(this, arguments);
	  }}]}]},{"name":"userWrapperRepos","path":"\u002Fr\u002F:user\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"userRepos","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}},{"name":"repo","path":"\u002Fr\u002F:user\u002F*\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"childRoutes":[{"name":"repoSettings","path":"~\u002Fsettings\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    },"indexRoute":{"name":"repoSettingsMain","component":function repoSettingsMain() {
	    _classCallCheck(this, repoSettingsMain);

	    _get(Object.getPrototypeOf(repoSettingsMain.prototype), 'constructor', this).apply(this, arguments);
	  }},"childRoutes":[{"name":"collaborators","path":"collaborators\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"webhooks","path":"webhooks\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"autobuildSettings","path":"automated-builds\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"repoDetailsInfo","component":function RepositoryDetailsInfo() {
	    _classCallCheck(this, RepositoryDetailsInfo);

	    _get(Object.getPrototypeOf(RepositoryDetailsInfo.prototype), 'constructor', this).apply(this, arguments);
	  }},"childRoutes":[{"name":"buildsMain","path":"builds\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"buildLogs","path":"builds\u002F:build_code\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"repoDetailsTags","path":"tags\u002F","component":function Connect(props, context) {
        _classCallCheck(this, Connect);

        var _this = _possibleConstructorReturn(this, _Component.call(this, props, context));

        _this.version = version;
        _this.store = props.store || context.store;

        (0, _invariant2["default"])(_this.store, 'Could not find "store" in either the context or ' + ('props of "' + connectDisplayName + '". ') + 'Either wrap the root component in a <Provider>, ' + ('or explicitly pass "store" as a prop to "' + connectDisplayName + '".'));

        var storeState = _this.store.getState();
        _this.state = { storeState: storeState };
        _this.clearCache();
        return _this;
      }},{"name":"repoDetailsScannedTag","path":"tags\u002F:tagname\u002F","component":function Connect(props, context) {
        _classCallCheck(this, Connect);

        var _this = _possibleConstructorReturn(this, _Component.call(this, props, context));

        _this.version = version;
        _this.store = props.store || context.store;

        (0, _invariant2["default"])(_this.store, 'Could not find "store" in either the context or ' + ('props of "' + connectDisplayName + '". ') + 'Either wrap the root component in a <Provider>, ' + ('or explicitly pass "store" as a prop to "' + connectDisplayName + '".'));

        var storeState = _this.store.getState();
        _this.state = { storeState: storeState };
        _this.clearCache();
        return _this;
      }},{"name":"dockerfile","path":"~\u002Fdockerfile\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]}]},{"name":"account","path":"account\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    },"indexRoute":{"name":"settings","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},"childRoutes":[{"name":"accountSettings","path":"settings\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"authorizedServices","path":"authorized-services\u002F","indexRoute":{"name":"authServicesRoot","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},"childRoutes":[{"name":"githubRedirect","path":"github\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"bitbucketRedirect","path":"bitbucket\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"billingPlans","path":"billing-plans\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"updateBillingInfo","path":"billing-plans\u002Fupdate\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"createSubscription","path":"billing-plans\u002Fcreate-subscription\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"notifications","path":"notifications\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"licenses","path":"licenses\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"toOrg","path":"convert-to-org\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"publicBillingPage","path":"billing-plans\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"subscriptions","path":"\u002Fsubscriptions\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    }},{"name":"enterprise","path":"\u002Fenterprise\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    }},{"name":"serverTrial","path":"\u002Fenterprise\u002Ftrial\u002F","component":function EnterpriseTrial() {
	    _classCallCheck(this, EnterpriseTrial);

	    _get(Object.getPrototypeOf(EnterpriseTrial.prototype), 'constructor', this).apply(this, arguments);
	  }},{"name":"serverTrialTerms","path":"\u002Fenterprise\u002Ftrial\u002Fterms\u002F","component":function _default() {
	    _classCallCheck(this, _default);

	    _get(Object.getPrototypeOf(_default.prototype), 'constructor', this).apply(this, arguments);
	  }},{"name":"serverTrialSuccess","path":"\u002Fenterprise\u002Ftrial\u002Fsuccess\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"eusa","path":"\u002Fenterprise\u002Feusa\u002F","component":function _default() {
	    _classCallCheck(this, _default);

	    _get(Object.getPrototypeOf(_default.prototype), 'constructor', this).apply(this, arguments);
	  }},{"name":"csEngineDownloadPage","path":"cs-engine\u002F","component":function CSEngineDownloadPage() {
	    _classCallCheck(this, CSEngineDownloadPage);

	    _get(Object.getPrototypeOf(CSEngineDownloadPage.prototype), 'constructor', this).apply(this, arguments);
	  }},{"name":"search","path":"search\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    }},{"name":"explore","path":"\u002Fexplore\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"help","path":"\u002Fhelp\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    }},{"name":"register","path":"\u002Fregister\u002F","component":function Register() {
	    _classCallCheck(this, Register);

	    _get(Object.getPrototypeOf(Register.prototype), 'constructor', this).apply(this, arguments);
	  }},{"path":"*","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    }}]},{"name":"repo","path":"\u002Fr\u002F:user\u002F*\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"childRoutes":[{"name":"repoSettings","path":"~\u002Fsettings\u002F","component":function (props, context, updater) {
      // This constructor is overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (process.env.NODE_ENV !== 'production') {
        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : undefined;
      }

      // Wire up auto-binding
      if (this.__reactAutoBindMap) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (process.env.NODE_ENV !== 'production') {
        // We allow auto-mocks to proceed as if they're returning null.
        if (typeof initialState === 'undefined' && this.getInitialState._isMockFunction) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      !(typeof initialState === 'object' && !Array.isArray(initialState)) ? process.env.NODE_ENV !== 'production' ? invariant(false, '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent') : invariant(false) : undefined;

      this.state = initialState;
    },"indexRoute":{"name":"repoSettingsMain","component":function repoSettingsMain() {
	    _classCallCheck(this, repoSettingsMain);

	    _get(Object.getPrototypeOf(repoSettingsMain.prototype), 'constructor', this).apply(this, arguments);
	  }},"childRoutes":[{"name":"collaborators","path":"collaborators\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"webhooks","path":"webhooks\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"autobuildSettings","path":"automated-builds\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"repoDetailsInfo","component":function RepositoryDetailsInfo() {
	    _classCallCheck(this, RepositoryDetailsInfo);

	    _get(Object.getPrototypeOf(RepositoryDetailsInfo.prototype), 'constructor', this).apply(this, arguments);
	  }},"childRoutes":[{"name":"buildsMain","path":"builds\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"buildLogs","path":"builds\u002F:build_code\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"repoDetailsTags","path":"tags\u002F","component":function Connect(props, context) {
        _classCallCheck(this, Connect);

        var _this = _possibleConstructorReturn(this, _Component.call(this, props, context));

        _this.version = version;
        _this.store = props.store || context.store;

        (0, _invariant2["default"])(_this.store, 'Could not find "store" in either the context or ' + ('props of "' + connectDisplayName + '". ') + 'Either wrap the root component in a <Provider>, ' + ('or explicitly pass "store" as a prop to "' + connectDisplayName + '".'));

        var storeState = _this.store.getState();
        _this.state = { storeState: storeState };
        _this.clearCache();
        return _this;
      }},{"name":"repoDetailsScannedTag","path":"tags\u002F:tagname\u002F","component":function Connect(props, context) {
        _classCallCheck(this, Connect);

        var _this = _possibleConstructorReturn(this, _Component.call(this, props, context));

        _this.version = version;
        _this.store = props.store || context.store;

        (0, _invariant2["default"])(_this.store, 'Could not find "store" in either the context or ' + ('props of "' + connectDisplayName + '". ') + 'Either wrap the root component in a <Provider>, ' + ('or explicitly pass "store" as a prop to "' + connectDisplayName + '".'));

        var storeState = _this.store.getState();
        _this.state = { storeState: storeState };
        _this.clearCache();
        return _this;
      }},{"name":"dockerfile","path":"~\u002Fdockerfile\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]}]},{"component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },"indexRoute":{"name":"repoDetailsInfo","component":function RepositoryDetailsInfo() {
	    _classCallCheck(this, RepositoryDetailsInfo);

	    _get(Object.getPrototypeOf(RepositoryDetailsInfo.prototype), 'constructor', this).apply(this, arguments);
	  }},"childRoutes":[{"name":"buildsMain","path":"builds\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"buildLogs","path":"builds\u002F:build_code\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }},{"name":"repoDetailsTags","path":"tags\u002F","component":function Connect(props, context) {
        _classCallCheck(this, Connect);

        var _this = _possibleConstructorReturn(this, _Component.call(this, props, context));

        _this.version = version;
        _this.store = props.store || context.store;

        (0, _invariant2["default"])(_this.store, 'Could not find "store" in either the context or ' + ('props of "' + connectDisplayName + '". ') + 'Either wrap the root component in a <Provider>, ' + ('or explicitly pass "store" as a prop to "' + connectDisplayName + '".'));

        var storeState = _this.store.getState();
        _this.state = { storeState: storeState };
        _this.clearCache();
        return _this;
      }},{"name":"repoDetailsScannedTag","path":"tags\u002F:tagname\u002F","component":function Connect(props, context) {
        _classCallCheck(this, Connect);

        var _this = _possibleConstructorReturn(this, _Component.call(this, props, context));

        _this.version = version;
        _this.store = props.store || context.store;

        (0, _invariant2["default"])(_this.store, 'Could not find "store" in either the context or ' + ('props of "' + connectDisplayName + '". ') + 'Either wrap the root component in a <Provider>, ' + ('or explicitly pass "store" as a prop to "' + connectDisplayName + '".'));

        var storeState = _this.store.getState();
        _this.state = { storeState: storeState };
        _this.clearCache();
        return _this;
      }},{"name":"dockerfile","path":"~\u002Fdockerfile\u002F","component":function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    }}]},{"name":"repoDetailsInfo","component":function RepositoryDetailsInfo() {
	    _classCallCheck(this, RepositoryDetailsInfo);

	    _get(Object.getPrototypeOf(RepositoryDetailsInfo.prototype), 'constructor', this).apply(this, arguments);
	  }}],"params":{"user":"tvial","splat":"docker-mailserver"},"location":{"pathname":"\u002Fr\u002Ftvial\u002Fdocker-mailserver\u002F","search":"","hash":"","state":null,"action":"POP","key":"dk6mvv","query":{},"$searchBase":{"search":"","searchBase":""}},"components":[function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },function StoreConnector(props, context) {
	        React.Component.apply(this, arguments);
	        this.state = this.getStateFromStores();
	        this._onStoreChange = null;
	        this._isMounted = false;
	    },function RepositoryDetailsInfo() {
	    _classCallCheck(this, RepositoryDetailsInfo);

	    _get(Object.getPrototypeOf(RepositoryDetailsInfo.prototype), 'constructor', this).apply(this, arguments);
	  }],"history":{"listenBefore":function listenBefore(hook) {
      return history.listenBefore(function (location, callback) {
        _runTransitionHook2['default'](hook, addQuery(location), callback);
      });
    },"listen":function listen(listener) {
      // TODO: Only use a single history listener. Otherwise we'll
      // end up with multiple concurrent calls to match.
      return history.listen(function (location) {
        if (state.location === location) {
          listener(null, state);
        } else {
          match(location, function (error, redirectLocation, nextState) {
            if (error) {
              listener(error);
            } else if (redirectLocation) {
              history.transitionTo(redirectLocation);
            } else if (nextState) {
              listener(null, nextState);
            } else {
              process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Location "%s" did not match any routes', location.pathname + location.search + location.hash) : undefined;
            }
          });
        }
      });
    },"transitionTo":function transitionTo(nextLocation) {
    if (location && locationsAreEqual(location, nextLocation)) return; // Nothing to do.

    pendingLocation = nextLocation;

    confirmTransitionTo(nextLocation, function (ok) {
      if (pendingLocation !== nextLocation) return; // Transition was interrupted.

      if (ok) {
        // treat PUSH to current path like REPLACE to be consistent with browsers
        if (nextLocation.action === _Actions.PUSH) {
          var prevPath = createPath(location);
          var nextPath = createPath(nextLocation);

          if (nextPath === prevPath) nextLocation.action = _Actions.REPLACE;
        }

        if (finishTransition(nextLocation) !== false) updateLocation(nextLocation);
      } else if (location && nextLocation.action === _Actions.POP) {
        var prevIndex = allKeys.indexOf(location.key);
        var nextIndex = allKeys.indexOf(nextLocation.key);

        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL.
      }
    });
  },"push":function push(location) {
      history.push(appendQuery(location, location.query));
    },"replace":function replace(location) {
      history.replace(appendQuery(location, location.query));
    },"go":function go(n) {
    if (n) {
      if (!canGo(n)) {
        process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Cannot go(%s) there is not enough history', n) : undefined;
        return;
      }

      current += n;

      var currentLocation = getCurrentLocation();

      // change action to POP
      history.transitionTo(_extends({}, currentLocation, { action: _Actions.POP }));
    }
  },"goBack":function goBack() {
    go(-1);
  },"goForward":function goForward() {
    go(1);
  },"createKey":function createKey() {
    return createRandomKey(keyLength);
  },"createPath":function createPath(location, query) {
      //warning(
      //  !query,
      //  'the query argument to createPath is deprecated; use a location descriptor instead'
      //)
      return history.createPath(appendQuery(location, query || location.query));
    },"createHref":function createHref(location, query) {
      //warning(
      //  !query,
      //  'the query argument to createHref is deprecated; use a location descriptor instead'
      //)
      return history.createHref(appendQuery(location, query || location.query));
    },"createLocation":function createLocation() {
      return addQuery(history.createLocation.apply(history, arguments));
    },"setState":function setState(state) {
    if (location) {
      updateLocationState(location, state);
      updateLocation(location);
    } else {
      updateLocationState(getCurrentLocation(), state);
    }
  },"registerTransitionHook":function registerTransitionHook(hook) {
    if (transitionHooks.indexOf(hook) === -1) transitionHooks.push(hook);
  },"unregisterTransitionHook":function unregisterTransitionHook(hook) {
    transitionHooks = transitionHooks.filter(function (item) {
      return item !== hook;
    });
  },"pushState":function pushState(state, path, query) {
      if (typeof path === 'string') path = _parsePath2['default'](path);

      push(_extends({ state: state }, path, { query: query }));
    },"replaceState":function replaceState(state, path, query) {
      if (typeof path === 'string') path = _parsePath2['default'](path);

      replace(_extends({ state: state }, path, { query: query }));
    },"isActive":function isActive(pathname, query) {
      var indexOnly = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];

      return _isActive3['default'](pathname, query, indexOnly, state.location, state.routes, state.params);
    },"match":function match(location, callback) {
      if (partialNextState && partialNextState.location === location) {
        // Continue from where we left off.
        finishMatch(partialNextState, callback);
      } else {
        _matchRoutes2['default'](routes, location, function (error, nextState) {
          if (error) {
            callback(error);
          } else if (nextState) {
            finishMatch(_extends({}, nextState, { location: location }), callback);
          } else {
            callback();
          }
        });
      }
    },"listenBeforeLeavingRoute":function listenBeforeLeavingRoute(route, hook) {
      // TODO: Warn if they register for a route that isn't currently
      // active. They're probably doing something wrong, like re-creating
      // route objects on every location change.
      var routeID = getRouteID(route);
      var hooks = RouteHooks[routeID];

      if (hooks == null) {
        var thereWereNoRouteHooks = !hasAnyProperties(RouteHooks);

        hooks = RouteHooks[routeID] = [hook];

        if (thereWereNoRouteHooks) {
          // setup transition & beforeunload hooks
          unlistenBefore = history.listenBefore(transitionHook);

          if (history.listenBeforeUnload) unlistenBeforeUnload = history.listenBeforeUnload(beforeUnloadHook);
        }
      } else if (hooks.indexOf(hook) === -1) {
        hooks.push(hook);
      }

      return function () {
        var hooks = RouteHooks[routeID];

        if (hooks != null) {
          var newHooks = hooks.filter(function (item) {
            return item !== hook;
          });

          if (newHooks.length === 0) {
            delete RouteHooks[routeID];

            if (!hasAnyProperties(RouteHooks)) {
              // teardown transition & beforeunload hooks
              if (unlistenBefore) {
                unlistenBefore();
                unlistenBefore = null;
              }

              if (unlistenBeforeUnload) {
                unlistenBeforeUnload();
                unlistenBeforeUnload = null;
              }
            }
          } else {
            RouteHooks[routeID] = newHooks;
          }
        }
      };
    }},"ssoEnabled":true,"cookies":{}}},"EmailsStore":{"STATUS":"DEFAULT","emails":[],"addEmail":"","addError":"","emailConfirmations":{},"_cleanSlate":{"emails":[]}},"DeleteRepoFormStore":{"error":"","STATUS":"DEFAULT","values":{"confirmRepoName":""}},"RepoDetailsLongDescriptionFormStore":{"_defaultValues":{"longDescription":"# docker-mailserver\n\n[![Build Status](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver.svg?branch=master)](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver) [![Docker Pulls](https:\u002F\u002Fimg.shields.io\u002Fdocker\u002Fpulls\u002Ftvial\u002Fdocker-mailserver.svg)](https:\u002F\u002Fhub.docker.com\u002Fr\u002Ftvial\u002Fdocker-mailserver\u002F) [![Docker layers](https:\u002F\u002Fimages.microbadger.com\u002Fbadges\u002Fimage\u002Ftvial\u002Fdocker-mailserver.svg)](https:\u002F\u002Fmicrobadger.com\u002Fimages\u002Ftvial\u002Fdocker-mailserver) [![Github Stars](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fstars\u002Ftomav\u002Fdocker-mailserver.svg?label=github%20%E2%98%85)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Github Stars](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fcontributors\u002Ftomav\u002Fdocker-mailserver.svg)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Github Forks](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fforks\u002Ftomav\u002Fdocker-mailserver.svg?label=github%20forks)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Gitter](https:\u002F\u002Fimg.shields.io\u002Fgitter\u002Froom\u002Ftomav\u002Fdocker-mailserver.svg)](https:\u002F\u002Fgitter.im\u002Ftomav\u002Fdocker-mailserver)\n\n\nA fullstack but simple mail server (smtp, imap, antispam, antivirus...).\nOnly configuration files, no SQL database. Keep it simple and versioned.\nEasy to deploy and upgrade.\n\nIncludes:\n\n- postfix with smtp or ldap auth\n- dovecot for sasl, imap (and optional pop3) with ssl support, with ldap auth\n- saslauthd with ldap auth\n- [amavis](https:\u002F\u002Fwww.amavis.org\u002F)\n- [spamassasin](http:\u002F\u002Fspamassassin.apache.org\u002F) supporting custom rules\n- [clamav](https:\u002F\u002Fwww.clamav.net\u002F) with automatic updates\n- opendkim\n- opendmarc\n- [fail2ban](https:\u002F\u002Fwww.fail2ban.org\u002Fwiki\u002Findex.php\u002FMain_Page)\n- [fetchmail](http:\u002F\u002Fwww.fetchmail.info\u002Ffetchmail-man.html)\n- [postscreen](http:\u002F\u002Fwww.postfix.org\u002FPOSTSCREEN_README.html)\n- [postgrey](https:\u002F\u002Fpostgrey.schweikert.ch\u002F)\n- basic [sieve support](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FConfigure-Sieve-filters) using dovecot\n- [LetsEncrypt](https:\u002F\u002Fletsencrypt.org\u002F) and self-signed certificates\n- [setup script](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FSetup-docker-mailserver-using-the-script-setup.sh) to easily configure and maintain your mailserver\n- persistent data and state (but think about backups!)\n- [integration tests](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver)\n- [automated builds on docker hub](https:\u002F\u002Fhub.docker.com\u002Fr\u002Ftvial\u002Fdocker-mailserver\u002F)\n\nWhy I created this image: [Simple mail server with Docker](http:\u002F\u002Ftvi.al\u002Fsimple-mail-server-with-docker\u002F)\n\nBefore you open an issue, please have a look this `README`, the [Wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002F) and Postfix\u002FDovecot documentation.\n\n## Requirements\n\nRecommended:\n- 1 CPU\n- 1GB RAM\n\nMinimum:\n- 1 CPU\n- 512MB RAM\n\n**Note:** You'll need to deactivate some services like ClamAV to be able to run on a host with 512MB of RAM.\n\n## Usage\n\n#### Get latest image\n\n    docker pull tvial\u002Fdocker-mailserver:latest\n\n#### Get the tools\n\nDownload the docker-compose.yml, the .env and the setup.sh files:\n\n    curl -o setup.sh https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002Fsetup.sh; chmod a+x .\u002Fsetup.sh\n\n    curl -o docker-compose.yml https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002Fdocker-compose.yml.dist\n\n    curl -o .env https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002F.env.dist\n\n#### Create a docker-compose environment\n\n- Edit the `.env` to your liking. Adapt this file with your FQDN.\n- Install [docker-compose](https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F) in the version `1.6` or higher.\n\n#### Create your mail accounts\n\n    .\u002Fsetup.sh email add \u003Cuser@domain\u003E [\u003Cpassword\u003E]\n\n#### Generate DKIM keys\n\n    .\u002Fsetup.sh config dkim\n\nNow the keys are generated, you can configure your DNS server by just pasting the content of `config\u002Fopendkim\u002Fkeys\u002Fdomain.tld\u002Fmail.txt` in your `domain.tld.hosts` zone.\n\n#### Start the container\n\n    docker-compose up -d mail\n\nYou're done!\n\nAnd don't forget to have a look at the remaining functions of the `setup.sh` script\n\n#### SPF\u002FForwarding Problems\n\nIf you got any problems with SPF and\u002For forwarding mails, give [SRS](https:\u002F\u002Fgithub.com\u002Froehling\u002Fpostsrsd\u002Fblob\u002Fmaster\u002FREADME.md) a try. You enable SRS by setting `ENABLE_SRS=1`. See the variable description for further information.\n\n#### For informational purposes:\n\nYour config folder will be mounted in `\u002Ftmp\u002Fdocker-mailserver\u002F`. To understand how things work on boot, please have a look at [start-mailserver.sh](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fblob\u002Fmaster\u002Ftarget\u002Fstart-mailserver.sh)\n\n`restart: always` ensures that the mail server container (and ELK container when using the mail server together with ELK stack) is automatically restarted by Docker in cases like a Docker service or host restart or container exit.\n\n#### Exposed ports\n* 25 receiving email from other mailservers\n* 465 SSL Client email submission\n* 587 TLS Client email submission\n* 143 StartTLS IMAP client\n* 993 TLS\u002FSSL IMAP client\n* 110 POP3 client\n* 995 TLS\u002FSSL POP3 client\n\n`Note: Port 25 is only for receiving email from other mailservers and not for submitting email. You need to use port 465 or 587 for this.`\n\n##### Examples with just the relevant environmental variables:\n\n```yaml\nversion: '2'\n\nservices:\n  mail:\n    image: tvial\u002Fdocker-mailserver:latest\n    hostname: mail\n    domainname: domain.com\n    container_name: mail\n    ports:\n    - \"25:25\"\n    - \"143:143\"\n    - \"587:587\"\n    - \"993:993\"\n    volumes:\n    - maildata:\u002Fvar\u002Fmail\n    - mailstate:\u002Fvar\u002Fmail-state\n    - .\u002Fconfig\u002F:\u002Ftmp\u002Fdocker-mailserver\u002F\n    environment:\n    - ENABLE_SPAMASSASSIN=1\n    - ENABLE_CLAMAV=1\n    - ENABLE_FAIL2BAN=1\n    - ENABLE_POSTGREY=1\n    - ONE_DIR=1\n    - DMS_DEBUG=0\n    cap_add:\n    - NET_ADMIN\n    - SYS_PTRACE\n\nvolumes:\n  maildata:\n    driver: local\n  mailstate:\n    driver: local\n```\n\n__for ldap setup__:\n\n```yaml\nversion: '2'\n\nservices:\n  mail:\n    image: tvial\u002Fdocker-mailserver:latest\n    hostname: mail\n    domainname: domain.com\n    container_name: mail\n    ports:\n      - \"25:25\"\n      - \"143:143\"\n      - \"587:587\"\n      - \"993:993\"\n    volumes:\n      - maildata:\u002Fvar\u002Fmail\n      - mailstate:\u002Fvar\u002Fmail-state\n      - .\u002Fconfig\u002F:\u002Ftmp\u002Fdocker-mailserver\u002F\n    environment:\n      - ENABLE_SPAMASSASSIN=1\n      - ENABLE_CLAMAV=1\n      - ENABLE_FAIL2BAN=1\n      - ENABLE_POSTGREY=1\n      - ONE_DIR=1\n      - DMS_DEBUG=0\n      - ENABLE_LDAP=1\n      - LDAP_SERVER_HOST=ldap # your ldap container\u002FIP\u002FServerName\n      - LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain\n      - LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain\n      - LDAP_BIND_PW=admin\n      - LDAP_QUERY_FILTER_USER=\"(&(mail=%s)(mailEnabled=TRUE))\"\n      - LDAP_QUERY_FILTER_GROUP=\"(&(mailGroupMember=%s)(mailEnabled=TRUE))\"\n      - LDAP_QUERY_FILTER_ALIAS=\"(&(mailAlias=%s)(mailEnabled=TRUE))\"\n      - DOVECOT_PASS_FILTER=\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"\n      - DOVECOT_USER_FILTER=\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"\n      - ENABLE_SASLAUTHD=1\n      - SASLAUTHD_MECHANISMS=ldap\n      - SASLAUTHD_LDAP_SERVER=ldap\n      - SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain\n      - SASLAUTHD_LDAP_PASSWORD=admin\n      - SASLAUTHD_LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain\n      - POSTMASTER_ADDRESS=postmaster@localhost.localdomain\n    cap_add:\n      - NET_ADMIN\n      - SYS_PTRACE\n\nvolumes:\n  maildata:\n    driver: local\n  mailstate:\n    driver: local\n```\n\n# Environment variables\n\nPlease check [how the container starts](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fblob\u002Fmaster\u002Ftarget\u002Fstart-mailserver.sh) to understand what's expected. Also if an option doesn't work as documented here, check if you are running the latest image!\n\nValue in **bold** is the default value.\n\n## General\n\n##### DMS_DEBUG\n\n  - **0** =\u003E Debug disabled\n  - 1 =\u003E Enables debug on startup\n\n##### ENABLE_CLAMAV\n\n  - **0** =\u003E Clamav is disabled\n  - 1 =\u003E Clamav is enabled\n\n##### ONE_DIR\n\n  - **0** =\u003E state in default directories\n  - 1 =\u003E consolidate all states into a single directory (`\u002Fvar\u002Fmail-state`) to allow persistence using docker volumes\n\n##### ENABLE_POP3\n\n  - **empty** =\u003E POP3 service disabled\n  - 1 =\u003E Enables POP3 service\n\n##### ENABLE_FAIL2BAN\n\n  - **0** =\u003E fail2ban service disabled\n  - 1 =\u003E Enables fail2ban service\n\nIf you enable Fail2Ban, don't forget to add the following lines to your `docker-compose.yml`:\n\n    cap_add:\n      - NET_ADMIN\n\nOtherwise, `iptables` won't be able to ban IPs.\n\n##### SMTP_ONLY\n\n  - **empty** =\u003E all daemons start\n  - 1 =\u003E only launch postfix smtp\n\n##### SSL_TYPE\n\n  - **empty** =\u003E SSL disabled\n  - letsencrypt =\u003E Enables Let's Encrypt certificates\n  - custom =\u003E Enables custom certificates\n  - manual =\u003E Let's you manually specify locations of your SSL certificates for non-standard cases\n  - self-signed =\u003E Enables self-signed certificates\n\nPlease read [the SSL page in the wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FConfigure-SSL) for more information.\n\n##### TLS_LEVEL\n\n  - **empty** =\u003E modern\n  - modern =\u003E Enables TLSv1.2 and modern ciphers only. (default)\n  - intermediate =\u003E Enables TLSv1, TLSv1.1 and TLSv1.2 and broad compatibility ciphers.\n  - old =\u003E NOT implemented. If you really need it, then customize the TLS ciphers overriding postfix and dovecot settings [ wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002F\n\n##### SPOOF_PROTECTION\nConfigures the handling of creating mails with forged sender addresses.\n  - **empty** =\u003E Mail address spoofing allowed. Any logged in user may create email messages with a forged sender address. See also [Wikipedia](https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEmail_spoofing)(not recommended, but default for backwards compatibility reasons)\n  - 1 =\u003E (recommended) Mail spoofing denied. Each user may only send with his own or his alias addresses. Addresses with [extension delimiters](http:\u002F\u002Fwww.postfix.org\u002Fpostconf.5.html#recipient_delimiter) are not able to send messages.\n\n##### ENABLE_SRS\nEnables the Sender Rewriting Scheme. SRS is needed if your mail server acts as forwarder. See [postsrsd](https:\u002F\u002Fgithub.com\u002Froehling\u002Fpostsrsd\u002Fblob\u002Fmaster\u002FREADME.md#sender-rewriting-scheme-crash-course) for further explanation.\n  - **0** =\u003E Disabled\n  - 1 =\u003E Enabled\n\n##### PERMIT_DOCKER\n\nSet different options for mynetworks option (can be overwrite in postfix-main.cf)\n  - **empty** =\u003E localhost only\n  - host =\u003E Add docker host (ipv4 only)\n  - network =\u003E Add all docker containers (ipv4 only)\n\n##### VIRUSMAILS_DELETE_DELAY\n\nSet how many days a virusmail will stay on the server before being deleted\n  - **empty** =\u003E 7 days\n\n\n##### ENABLE_POSTFIX_VIRTUAL_TRANSPORT\n\nThis Option is activating the Usage of POSTFIX_DAGENT to specify a ltmp client different from default dovecot socket.\n\n- **empty** =\u003E disabled\n- 1 =\u003E enabled\n\n##### POSTFIX_DAGENT\n\nEnabled by ENABLE_POSTFIX_VIRTUAL_TRANSPORT. Specify the final delivery of postfix\n\n- **empty**: fail\n- `lmtp:unix:private\u002Fdovecot-lmtp` (use socket)\n- `lmtps:inet:\u003Chost\u003E:\u003Cport\u003E` (secure lmtp with starttls, take a look at https:\u002F\u002Fsys4.de\u002Fen\u002Fblog\u002F2014\u002F11\u002F17\u002Fsicheres-lmtp-mit-starttls-in-dovecot\u002F)\n- `lmtp:\u003Ckopano-host\u003E:2003` (use kopano as mailstore)\n- etc.\n\n##### ENABLE_MANAGESIEVE\n\n  - **empty** =\u003E Managesieve service disabled\n  - 1 =\u003E Enables Managesieve on port 4190\n\n##### OVERRIDE_HOSTNAME\n\n  - **empty** =\u003E uses the `hostname` command to get the mail server's canonical hostname\n  - =\u003E Specify a fully-qualified domainname to serve mail for.  This is used for many of the config features so if you can't set your hostname (e.g. you're in a container platform that doesn't let you) specify it in this environment variable.\n\n##### POSTMASTER_ADDRESS\n\n  - **empty** =\u003E postmaster@domain.com\n  - =\u003E Specify the postmaster address\n\n\n##### POSTSCREEN_ACTION\n\n  - **enforce** =\u003E Allow other tests to complete. Reject attempts to deliver mail with a 550 SMTP reply, and log the helo\u002Fsender\u002Frecipient information. Repeat this test the next time the client connects.\n  - drop =\u003E Drop the connection immediately with a 521 SMTP reply. Repeat this test the next time the client connects.\n  - ignore =\u003E Ignore the failure of this test. Allow other tests to complete. Repeat this test the next time the client connects. This option is useful for testing and collecting statistics without blocking mail.\n\n\n##### REPORT_RECIPIENT\n\n  Enables a report being sent (created by pflogsumm) on a regular basis.\n  - **0** =\u003E Report emails are disabled\n  - 1 =\u003E Using POSTMASTER_ADDRESS as the recipient\n  - =\u003E Specify the recipient address\n\n##### REPORT_SENDER\n\n  Change the sending address for mail report\n  - **empty** =\u003E mailserver-report@hostname\n  - =\u003E Specify the report sender (From) address\n\n\n##### REPORT_INTERVAL\n\n  changes the interval in which a report is being sent.\n  - **daily** =\u003E Send a daily report\n  - weekly =\u003E Send a report every week\n  - monthly =\u003E Send a report every month\n\nNote: This Variable actually controls logrotate inside the container and rotates the log depending on this setting. The main log output is still available in its entirety via `docker logs mail` (Or your respective container name). If you want to control logrotation for the docker generated logfile see: [Docker Logging Drivers](https:\u002F\u002Fdocs.docker.com\u002Fconfig\u002Fcontainers\u002Flogging\u002Fconfigure\u002F)\n\n## Spamassassin\n\n##### ENABLE_SPAMASSASSIN\n\n  - **0** =\u003E Spamassassin is disabled\n  - 1 =\u003E Spamassassin is enabled\n\n##### SA_TAG\n\n  - **2.0** =\u003E add spam info headers if at, or above that level\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_TAG2\n\n  - **6.31** =\u003E add 'spam detected' headers at that level\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_KILL\n\n  - **6.31** =\u003E triggers spam evasive actions\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_SPAM_SUBJECT\n\n  - **\\*\\*\\*SPAM\\*\\*\\*** =\u003E add tag to subject if spam detected\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n## Fetchmail\n\n##### ENABLE_FETCHMAIL\n  - **0** =\u003E `fetchmail` disabled\n  - 1 =\u003E `fetchmail` enabled\n\n##### FETCHMAIL_POLL\n  - **300** =\u003E `fetchmail` The number of seconds for the interval\n\n## LDAP\n\n##### ENABLE_LDAP\n\n  - **empty** =\u003E LDAP authentification is disabled\n  - 1 =\u003E LDAP authentification is enabled\n  - NOTE:\n    - A second container for the ldap service is necessary (e.g. [docker-openldap](https:\u002F\u002Fgithub.com\u002Fosixia\u002Fdocker-openldap))\n    - For preparing the ldap server to use in combination with this continer [this](http:\u002F\u002Facidx.net\u002Fwordpress\u002F2014\u002F06\u002Finstalling-a-mailserver-with-postfix-dovecot-sasl-ldap-roundcube\u002F) article may be helpful\n\n##### LDAP_START_TLS\n\n  - **empty** =\u003E no\n  - yes =\u003E LDAP over TLS enabled for Postfix\n\n##### LDAP_SERVER_HOST\n\n  - **empty** =\u003E mail.domain.com\n  - =\u003E Specify the dns-name\u002Fip-address where the ldap-server\n  - NOTE: If you going to use the mailserver in combination with docker-compose you can set the service name here\n\n##### LDAP_SEARCH_BASE\n\n  - **empty** =\u003E ou=people,dc=domain,dc=com\n  - =\u003E e.g. LDAP_SEARCH_BASE=dc=mydomain,dc=local\n\n##### LDAP_BIND_DN\n\n  - **empty** =\u003E cn=admin,dc=domain,dc=com\n  - =\u003E take a look at examples of SASL_LDAP_BIND_DN\n\n##### LDAP_BIND_PW\n\n  - **empty** =\u003E admin\n  - =\u003E Specify the password to bind against ldap\n\n##### LDAP_QUERY_FILTER_USER\n\n  - e.g. `\"(&(mail=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for users\n\n##### LDAP_QUERY_FILTER_GROUP\n\n  - e.g. `\"(&(mailGroupMember=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for groups\n\n##### LDAP_QUERY_FILTER_ALIAS\n\n  - e.g. `\"(&(mailAlias=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for aliases\n\n##### DOVECOT_TLS\n\n  - **empty** =\u003E no\n  - yes =\u003E LDAP over TLS enabled for Dovecot\n\n## Dovecot\n\n##### DOVECOT_USER_FILTER\n\n  - e.g. `\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"`\n\n##### DOVECOT_PASS_FILTER\n\n  - e.g. `\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"`\n\n## Postgrey\n\n##### ENABLE_POSTGREY\n\n  - **0** =\u003E `postgrey` is disabled\n  - 1 =\u003E `postgrey` is enabled\n\n##### POSTGREY_DELAY\n\n  - **300** =\u003E greylist for N seconds\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n##### POSTGREY_MAX_AGE\n\n  - **35** =\u003E delete entries older than N days since the last time that they have been seen\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n##### POSTGREY_TEXT\n\n  - **Delayed by postgrey** =\u003E response when a mail is greylisted\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n## SASL Auth\n\n##### ENABLE_SASLAUTHD\n\n  - **0** =\u003E `saslauthd` is disabled\n  - 1 =\u003E `saslauthd` is enabled\n\n##### SASLAUTHD_MECHANISMS\n\n  - empty =\u003E pam\n  - `ldap` =\u003E authenticate against ldap server\n  - `shadow` =\u003E authenticate against local user db\n  - `mysql` =\u003E authenticate against mysql db\n  - `rimap` =\u003E authenticate against imap server\n  - NOTE: can be a list of mechanisms like pam ldap shadow\n\n##### SASLAUTHD_MECH_OPTIONS\n\n  - empty =\u003E None\n  - e.g. with SASLAUTHD_MECHANISMS rimap you need to specify the ip-address\u002Fservername of the imap server  ==\u003E xxx.xxx.xxx.xxx\n\n##### SASLAUTHD_LDAP_SERVER\n\n  - empty =\u003E localhost\n\n##### SASLAUTHD_LDAP_SSL\n\n  - empty or 0 =\u003E `ldap:\u002F\u002F` will be used\n  - 1 =\u003E `ldaps:\u002F\u002F` will be used\n\n##### SASLAUTHD_LDAP_BIND_DN\n\n  - empty =\u003E anonymous bind\n  - specify an object with priviliges to search the directory tree\n  - e.g. active directory: SASLAUTHD_LDAP_BIND_DN=cn=Administrator,cn=Users,dc=mydomain,dc=net\n  - e.g. openldap: SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=mydomain,dc=net\n\n##### SASLAUTHD_LDAP_PASSWORD\n\n  - empty =\u003E anonymous bind\n\n##### SASLAUTHD_LDAP_SEARCH_BASE\n\n  - empty =\u003E Reverting to SASLAUTHD_MECHANISMS pam\n  - specify the search base\n\n##### SASLAUTHD_LDAP_FILTER\n\n  - empty =\u003E default filter `(&(uniqueIdentifier=%u)(mailEnabled=TRUE))`\n  - e.g. for active directory: `(&(sAMAccountName=%U)(objectClass=person))`\n  - e.g. for openldap: `(&(uid=%U)(objectClass=person))`\n\n##### SASL_PASSWD\n\n  - **empty** =\u003E No sasl_passwd will be created\n  - string =\u003E `\u002Fetc\u002Fpostfix\u002Fsasl_passwd` will be created with the string as password\n\n## SRS (Sender Rewriting Scheme)\n\n##### SRS_EXCLUDE_DOMAINS\n\n  - **empty** =\u003E Envelope sender will be rewritten for all domains\n  - provide comma seperated list of domains to exclude from rewriting\n\n##### SRS_SECRET\n\n  - **empty** =\u003E generated when the container is started for the first time\n  - provide a secret to use in base64\n  - you may specify multiple keys, comma separated. the first one is used for signing and the remaining will be used for verification. this is how you rotate and expire keys\n  - if you have a cluster\u002Fswarm make sure the same keys are on all nodes\n  - example command to generate a key: `dd if=\u002Fdev\u002Furandom bs=24 count=1 2\u003E\u002Fdev\u002Fnull | base64`\n\n##### SRS_DOMAINNAME\n\n  - **empty** =\u003E Derived from OVERRIDE_HOSTNAME, DOMAINNAME, or the container's hostname\n  - Set this if auto-detection fails, isn't what you want, or you wish to have a separate container handle DSNs\n\n## Multi-domain Relay Hosts\n\n#### RELAY_HOST\n\n  - **empty** =\u003E don't configure relay host\n  - default host to relay mail through\n\n#### RELAY_PORT\n\n  - **empty** =\u003E 25\n  - default port to relay mail through\n\n#### RELAY_USER\n\n  - **empty** =\u003E no default\n  - default relay username (if no specific entry exists in postfix-sasl-password.cf)\n\n#### RELAY_PASSWORD\n\n  - **empty** =\u003E no default\n  - password for default relay user\n"},"fields":{"longDescription":{}},"values":{"longDescription":"# docker-mailserver\n\n[![Build Status](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver.svg?branch=master)](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver) [![Docker Pulls](https:\u002F\u002Fimg.shields.io\u002Fdocker\u002Fpulls\u002Ftvial\u002Fdocker-mailserver.svg)](https:\u002F\u002Fhub.docker.com\u002Fr\u002Ftvial\u002Fdocker-mailserver\u002F) [![Docker layers](https:\u002F\u002Fimages.microbadger.com\u002Fbadges\u002Fimage\u002Ftvial\u002Fdocker-mailserver.svg)](https:\u002F\u002Fmicrobadger.com\u002Fimages\u002Ftvial\u002Fdocker-mailserver) [![Github Stars](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fstars\u002Ftomav\u002Fdocker-mailserver.svg?label=github%20%E2%98%85)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Github Stars](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fcontributors\u002Ftomav\u002Fdocker-mailserver.svg)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Github Forks](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fforks\u002Ftomav\u002Fdocker-mailserver.svg?label=github%20forks)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Gitter](https:\u002F\u002Fimg.shields.io\u002Fgitter\u002Froom\u002Ftomav\u002Fdocker-mailserver.svg)](https:\u002F\u002Fgitter.im\u002Ftomav\u002Fdocker-mailserver)\n\n\nA fullstack but simple mail server (smtp, imap, antispam, antivirus...).\nOnly configuration files, no SQL database. Keep it simple and versioned.\nEasy to deploy and upgrade.\n\nIncludes:\n\n- postfix with smtp or ldap auth\n- dovecot for sasl, imap (and optional pop3) with ssl support, with ldap auth\n- saslauthd with ldap auth\n- [amavis](https:\u002F\u002Fwww.amavis.org\u002F)\n- [spamassasin](http:\u002F\u002Fspamassassin.apache.org\u002F) supporting custom rules\n- [clamav](https:\u002F\u002Fwww.clamav.net\u002F) with automatic updates\n- opendkim\n- opendmarc\n- [fail2ban](https:\u002F\u002Fwww.fail2ban.org\u002Fwiki\u002Findex.php\u002FMain_Page)\n- [fetchmail](http:\u002F\u002Fwww.fetchmail.info\u002Ffetchmail-man.html)\n- [postscreen](http:\u002F\u002Fwww.postfix.org\u002FPOSTSCREEN_README.html)\n- [postgrey](https:\u002F\u002Fpostgrey.schweikert.ch\u002F)\n- basic [sieve support](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FConfigure-Sieve-filters) using dovecot\n- [LetsEncrypt](https:\u002F\u002Fletsencrypt.org\u002F) and self-signed certificates\n- [setup script](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FSetup-docker-mailserver-using-the-script-setup.sh) to easily configure and maintain your mailserver\n- persistent data and state (but think about backups!)\n- [integration tests](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver)\n- [automated builds on docker hub](https:\u002F\u002Fhub.docker.com\u002Fr\u002Ftvial\u002Fdocker-mailserver\u002F)\n\nWhy I created this image: [Simple mail server with Docker](http:\u002F\u002Ftvi.al\u002Fsimple-mail-server-with-docker\u002F)\n\nBefore you open an issue, please have a look this `README`, the [Wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002F) and Postfix\u002FDovecot documentation.\n\n## Requirements\n\nRecommended:\n- 1 CPU\n- 1GB RAM\n\nMinimum:\n- 1 CPU\n- 512MB RAM\n\n**Note:** You'll need to deactivate some services like ClamAV to be able to run on a host with 512MB of RAM.\n\n## Usage\n\n#### Get latest image\n\n    docker pull tvial\u002Fdocker-mailserver:latest\n\n#### Get the tools\n\nDownload the docker-compose.yml, the .env and the setup.sh files:\n\n    curl -o setup.sh https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002Fsetup.sh; chmod a+x .\u002Fsetup.sh\n\n    curl -o docker-compose.yml https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002Fdocker-compose.yml.dist\n\n    curl -o .env https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002F.env.dist\n\n#### Create a docker-compose environment\n\n- Edit the `.env` to your liking. Adapt this file with your FQDN.\n- Install [docker-compose](https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F) in the version `1.6` or higher.\n\n#### Create your mail accounts\n\n    .\u002Fsetup.sh email add \u003Cuser@domain\u003E [\u003Cpassword\u003E]\n\n#### Generate DKIM keys\n\n    .\u002Fsetup.sh config dkim\n\nNow the keys are generated, you can configure your DNS server by just pasting the content of `config\u002Fopendkim\u002Fkeys\u002Fdomain.tld\u002Fmail.txt` in your `domain.tld.hosts` zone.\n\n#### Start the container\n\n    docker-compose up -d mail\n\nYou're done!\n\nAnd don't forget to have a look at the remaining functions of the `setup.sh` script\n\n#### SPF\u002FForwarding Problems\n\nIf you got any problems with SPF and\u002For forwarding mails, give [SRS](https:\u002F\u002Fgithub.com\u002Froehling\u002Fpostsrsd\u002Fblob\u002Fmaster\u002FREADME.md) a try. You enable SRS by setting `ENABLE_SRS=1`. See the variable description for further information.\n\n#### For informational purposes:\n\nYour config folder will be mounted in `\u002Ftmp\u002Fdocker-mailserver\u002F`. To understand how things work on boot, please have a look at [start-mailserver.sh](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fblob\u002Fmaster\u002Ftarget\u002Fstart-mailserver.sh)\n\n`restart: always` ensures that the mail server container (and ELK container when using the mail server together with ELK stack) is automatically restarted by Docker in cases like a Docker service or host restart or container exit.\n\n#### Exposed ports\n* 25 receiving email from other mailservers\n* 465 SSL Client email submission\n* 587 TLS Client email submission\n* 143 StartTLS IMAP client\n* 993 TLS\u002FSSL IMAP client\n* 110 POP3 client\n* 995 TLS\u002FSSL POP3 client\n\n`Note: Port 25 is only for receiving email from other mailservers and not for submitting email. You need to use port 465 or 587 for this.`\n\n##### Examples with just the relevant environmental variables:\n\n```yaml\nversion: '2'\n\nservices:\n  mail:\n    image: tvial\u002Fdocker-mailserver:latest\n    hostname: mail\n    domainname: domain.com\n    container_name: mail\n    ports:\n    - \"25:25\"\n    - \"143:143\"\n    - \"587:587\"\n    - \"993:993\"\n    volumes:\n    - maildata:\u002Fvar\u002Fmail\n    - mailstate:\u002Fvar\u002Fmail-state\n    - .\u002Fconfig\u002F:\u002Ftmp\u002Fdocker-mailserver\u002F\n    environment:\n    - ENABLE_SPAMASSASSIN=1\n    - ENABLE_CLAMAV=1\n    - ENABLE_FAIL2BAN=1\n    - ENABLE_POSTGREY=1\n    - ONE_DIR=1\n    - DMS_DEBUG=0\n    cap_add:\n    - NET_ADMIN\n    - SYS_PTRACE\n\nvolumes:\n  maildata:\n    driver: local\n  mailstate:\n    driver: local\n```\n\n__for ldap setup__:\n\n```yaml\nversion: '2'\n\nservices:\n  mail:\n    image: tvial\u002Fdocker-mailserver:latest\n    hostname: mail\n    domainname: domain.com\n    container_name: mail\n    ports:\n      - \"25:25\"\n      - \"143:143\"\n      - \"587:587\"\n      - \"993:993\"\n    volumes:\n      - maildata:\u002Fvar\u002Fmail\n      - mailstate:\u002Fvar\u002Fmail-state\n      - .\u002Fconfig\u002F:\u002Ftmp\u002Fdocker-mailserver\u002F\n    environment:\n      - ENABLE_SPAMASSASSIN=1\n      - ENABLE_CLAMAV=1\n      - ENABLE_FAIL2BAN=1\n      - ENABLE_POSTGREY=1\n      - ONE_DIR=1\n      - DMS_DEBUG=0\n      - ENABLE_LDAP=1\n      - LDAP_SERVER_HOST=ldap # your ldap container\u002FIP\u002FServerName\n      - LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain\n      - LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain\n      - LDAP_BIND_PW=admin\n      - LDAP_QUERY_FILTER_USER=\"(&(mail=%s)(mailEnabled=TRUE))\"\n      - LDAP_QUERY_FILTER_GROUP=\"(&(mailGroupMember=%s)(mailEnabled=TRUE))\"\n      - LDAP_QUERY_FILTER_ALIAS=\"(&(mailAlias=%s)(mailEnabled=TRUE))\"\n      - DOVECOT_PASS_FILTER=\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"\n      - DOVECOT_USER_FILTER=\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"\n      - ENABLE_SASLAUTHD=1\n      - SASLAUTHD_MECHANISMS=ldap\n      - SASLAUTHD_LDAP_SERVER=ldap\n      - SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain\n      - SASLAUTHD_LDAP_PASSWORD=admin\n      - SASLAUTHD_LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain\n      - POSTMASTER_ADDRESS=postmaster@localhost.localdomain\n    cap_add:\n      - NET_ADMIN\n      - SYS_PTRACE\n\nvolumes:\n  maildata:\n    driver: local\n  mailstate:\n    driver: local\n```\n\n# Environment variables\n\nPlease check [how the container starts](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fblob\u002Fmaster\u002Ftarget\u002Fstart-mailserver.sh) to understand what's expected. Also if an option doesn't work as documented here, check if you are running the latest image!\n\nValue in **bold** is the default value.\n\n## General\n\n##### DMS_DEBUG\n\n  - **0** =\u003E Debug disabled\n  - 1 =\u003E Enables debug on startup\n\n##### ENABLE_CLAMAV\n\n  - **0** =\u003E Clamav is disabled\n  - 1 =\u003E Clamav is enabled\n\n##### ONE_DIR\n\n  - **0** =\u003E state in default directories\n  - 1 =\u003E consolidate all states into a single directory (`\u002Fvar\u002Fmail-state`) to allow persistence using docker volumes\n\n##### ENABLE_POP3\n\n  - **empty** =\u003E POP3 service disabled\n  - 1 =\u003E Enables POP3 service\n\n##### ENABLE_FAIL2BAN\n\n  - **0** =\u003E fail2ban service disabled\n  - 1 =\u003E Enables fail2ban service\n\nIf you enable Fail2Ban, don't forget to add the following lines to your `docker-compose.yml`:\n\n    cap_add:\n      - NET_ADMIN\n\nOtherwise, `iptables` won't be able to ban IPs.\n\n##### SMTP_ONLY\n\n  - **empty** =\u003E all daemons start\n  - 1 =\u003E only launch postfix smtp\n\n##### SSL_TYPE\n\n  - **empty** =\u003E SSL disabled\n  - letsencrypt =\u003E Enables Let's Encrypt certificates\n  - custom =\u003E Enables custom certificates\n  - manual =\u003E Let's you manually specify locations of your SSL certificates for non-standard cases\n  - self-signed =\u003E Enables self-signed certificates\n\nPlease read [the SSL page in the wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FConfigure-SSL) for more information.\n\n##### TLS_LEVEL\n\n  - **empty** =\u003E modern\n  - modern =\u003E Enables TLSv1.2 and modern ciphers only. (default)\n  - intermediate =\u003E Enables TLSv1, TLSv1.1 and TLSv1.2 and broad compatibility ciphers.\n  - old =\u003E NOT implemented. If you really need it, then customize the TLS ciphers overriding postfix and dovecot settings [ wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002F\n\n##### SPOOF_PROTECTION\nConfigures the handling of creating mails with forged sender addresses.\n  - **empty** =\u003E Mail address spoofing allowed. Any logged in user may create email messages with a forged sender address. See also [Wikipedia](https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEmail_spoofing)(not recommended, but default for backwards compatibility reasons)\n  - 1 =\u003E (recommended) Mail spoofing denied. Each user may only send with his own or his alias addresses. Addresses with [extension delimiters](http:\u002F\u002Fwww.postfix.org\u002Fpostconf.5.html#recipient_delimiter) are not able to send messages.\n\n##### ENABLE_SRS\nEnables the Sender Rewriting Scheme. SRS is needed if your mail server acts as forwarder. See [postsrsd](https:\u002F\u002Fgithub.com\u002Froehling\u002Fpostsrsd\u002Fblob\u002Fmaster\u002FREADME.md#sender-rewriting-scheme-crash-course) for further explanation.\n  - **0** =\u003E Disabled\n  - 1 =\u003E Enabled\n\n##### PERMIT_DOCKER\n\nSet different options for mynetworks option (can be overwrite in postfix-main.cf)\n  - **empty** =\u003E localhost only\n  - host =\u003E Add docker host (ipv4 only)\n  - network =\u003E Add all docker containers (ipv4 only)\n\n##### VIRUSMAILS_DELETE_DELAY\n\nSet how many days a virusmail will stay on the server before being deleted\n  - **empty** =\u003E 7 days\n\n\n##### ENABLE_POSTFIX_VIRTUAL_TRANSPORT\n\nThis Option is activating the Usage of POSTFIX_DAGENT to specify a ltmp client different from default dovecot socket.\n\n- **empty** =\u003E disabled\n- 1 =\u003E enabled\n\n##### POSTFIX_DAGENT\n\nEnabled by ENABLE_POSTFIX_VIRTUAL_TRANSPORT. Specify the final delivery of postfix\n\n- **empty**: fail\n- `lmtp:unix:private\u002Fdovecot-lmtp` (use socket)\n- `lmtps:inet:\u003Chost\u003E:\u003Cport\u003E` (secure lmtp with starttls, take a look at https:\u002F\u002Fsys4.de\u002Fen\u002Fblog\u002F2014\u002F11\u002F17\u002Fsicheres-lmtp-mit-starttls-in-dovecot\u002F)\n- `lmtp:\u003Ckopano-host\u003E:2003` (use kopano as mailstore)\n- etc.\n\n##### ENABLE_MANAGESIEVE\n\n  - **empty** =\u003E Managesieve service disabled\n  - 1 =\u003E Enables Managesieve on port 4190\n\n##### OVERRIDE_HOSTNAME\n\n  - **empty** =\u003E uses the `hostname` command to get the mail server's canonical hostname\n  - =\u003E Specify a fully-qualified domainname to serve mail for.  This is used for many of the config features so if you can't set your hostname (e.g. you're in a container platform that doesn't let you) specify it in this environment variable.\n\n##### POSTMASTER_ADDRESS\n\n  - **empty** =\u003E postmaster@domain.com\n  - =\u003E Specify the postmaster address\n\n\n##### POSTSCREEN_ACTION\n\n  - **enforce** =\u003E Allow other tests to complete. Reject attempts to deliver mail with a 550 SMTP reply, and log the helo\u002Fsender\u002Frecipient information. Repeat this test the next time the client connects.\n  - drop =\u003E Drop the connection immediately with a 521 SMTP reply. Repeat this test the next time the client connects.\n  - ignore =\u003E Ignore the failure of this test. Allow other tests to complete. Repeat this test the next time the client connects. This option is useful for testing and collecting statistics without blocking mail.\n\n\n##### REPORT_RECIPIENT\n\n  Enables a report being sent (created by pflogsumm) on a regular basis.\n  - **0** =\u003E Report emails are disabled\n  - 1 =\u003E Using POSTMASTER_ADDRESS as the recipient\n  - =\u003E Specify the recipient address\n\n##### REPORT_SENDER\n\n  Change the sending address for mail report\n  - **empty** =\u003E mailserver-report@hostname\n  - =\u003E Specify the report sender (From) address\n\n\n##### REPORT_INTERVAL\n\n  changes the interval in which a report is being sent.\n  - **daily** =\u003E Send a daily report\n  - weekly =\u003E Send a report every week\n  - monthly =\u003E Send a report every month\n\nNote: This Variable actually controls logrotate inside the container and rotates the log depending on this setting. The main log output is still available in its entirety via `docker logs mail` (Or your respective container name). If you want to control logrotation for the docker generated logfile see: [Docker Logging Drivers](https:\u002F\u002Fdocs.docker.com\u002Fconfig\u002Fcontainers\u002Flogging\u002Fconfigure\u002F)\n\n## Spamassassin\n\n##### ENABLE_SPAMASSASSIN\n\n  - **0** =\u003E Spamassassin is disabled\n  - 1 =\u003E Spamassassin is enabled\n\n##### SA_TAG\n\n  - **2.0** =\u003E add spam info headers if at, or above that level\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_TAG2\n\n  - **6.31** =\u003E add 'spam detected' headers at that level\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_KILL\n\n  - **6.31** =\u003E triggers spam evasive actions\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_SPAM_SUBJECT\n\n  - **\\*\\*\\*SPAM\\*\\*\\*** =\u003E add tag to subject if spam detected\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n## Fetchmail\n\n##### ENABLE_FETCHMAIL\n  - **0** =\u003E `fetchmail` disabled\n  - 1 =\u003E `fetchmail` enabled\n\n##### FETCHMAIL_POLL\n  - **300** =\u003E `fetchmail` The number of seconds for the interval\n\n## LDAP\n\n##### ENABLE_LDAP\n\n  - **empty** =\u003E LDAP authentification is disabled\n  - 1 =\u003E LDAP authentification is enabled\n  - NOTE:\n    - A second container for the ldap service is necessary (e.g. [docker-openldap](https:\u002F\u002Fgithub.com\u002Fosixia\u002Fdocker-openldap))\n    - For preparing the ldap server to use in combination with this continer [this](http:\u002F\u002Facidx.net\u002Fwordpress\u002F2014\u002F06\u002Finstalling-a-mailserver-with-postfix-dovecot-sasl-ldap-roundcube\u002F) article may be helpful\n\n##### LDAP_START_TLS\n\n  - **empty** =\u003E no\n  - yes =\u003E LDAP over TLS enabled for Postfix\n\n##### LDAP_SERVER_HOST\n\n  - **empty** =\u003E mail.domain.com\n  - =\u003E Specify the dns-name\u002Fip-address where the ldap-server\n  - NOTE: If you going to use the mailserver in combination with docker-compose you can set the service name here\n\n##### LDAP_SEARCH_BASE\n\n  - **empty** =\u003E ou=people,dc=domain,dc=com\n  - =\u003E e.g. LDAP_SEARCH_BASE=dc=mydomain,dc=local\n\n##### LDAP_BIND_DN\n\n  - **empty** =\u003E cn=admin,dc=domain,dc=com\n  - =\u003E take a look at examples of SASL_LDAP_BIND_DN\n\n##### LDAP_BIND_PW\n\n  - **empty** =\u003E admin\n  - =\u003E Specify the password to bind against ldap\n\n##### LDAP_QUERY_FILTER_USER\n\n  - e.g. `\"(&(mail=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for users\n\n##### LDAP_QUERY_FILTER_GROUP\n\n  - e.g. `\"(&(mailGroupMember=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for groups\n\n##### LDAP_QUERY_FILTER_ALIAS\n\n  - e.g. `\"(&(mailAlias=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for aliases\n\n##### DOVECOT_TLS\n\n  - **empty** =\u003E no\n  - yes =\u003E LDAP over TLS enabled for Dovecot\n\n## Dovecot\n\n##### DOVECOT_USER_FILTER\n\n  - e.g. `\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"`\n\n##### DOVECOT_PASS_FILTER\n\n  - e.g. `\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"`\n\n## Postgrey\n\n##### ENABLE_POSTGREY\n\n  - **0** =\u003E `postgrey` is disabled\n  - 1 =\u003E `postgrey` is enabled\n\n##### POSTGREY_DELAY\n\n  - **300** =\u003E greylist for N seconds\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n##### POSTGREY_MAX_AGE\n\n  - **35** =\u003E delete entries older than N days since the last time that they have been seen\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n##### POSTGREY_TEXT\n\n  - **Delayed by postgrey** =\u003E response when a mail is greylisted\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n## SASL Auth\n\n##### ENABLE_SASLAUTHD\n\n  - **0** =\u003E `saslauthd` is disabled\n  - 1 =\u003E `saslauthd` is enabled\n\n##### SASLAUTHD_MECHANISMS\n\n  - empty =\u003E pam\n  - `ldap` =\u003E authenticate against ldap server\n  - `shadow` =\u003E authenticate against local user db\n  - `mysql` =\u003E authenticate against mysql db\n  - `rimap` =\u003E authenticate against imap server\n  - NOTE: can be a list of mechanisms like pam ldap shadow\n\n##### SASLAUTHD_MECH_OPTIONS\n\n  - empty =\u003E None\n  - e.g. with SASLAUTHD_MECHANISMS rimap you need to specify the ip-address\u002Fservername of the imap server  ==\u003E xxx.xxx.xxx.xxx\n\n##### SASLAUTHD_LDAP_SERVER\n\n  - empty =\u003E localhost\n\n##### SASLAUTHD_LDAP_SSL\n\n  - empty or 0 =\u003E `ldap:\u002F\u002F` will be used\n  - 1 =\u003E `ldaps:\u002F\u002F` will be used\n\n##### SASLAUTHD_LDAP_BIND_DN\n\n  - empty =\u003E anonymous bind\n  - specify an object with priviliges to search the directory tree\n  - e.g. active directory: SASLAUTHD_LDAP_BIND_DN=cn=Administrator,cn=Users,dc=mydomain,dc=net\n  - e.g. openldap: SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=mydomain,dc=net\n\n##### SASLAUTHD_LDAP_PASSWORD\n\n  - empty =\u003E anonymous bind\n\n##### SASLAUTHD_LDAP_SEARCH_BASE\n\n  - empty =\u003E Reverting to SASLAUTHD_MECHANISMS pam\n  - specify the search base\n\n##### SASLAUTHD_LDAP_FILTER\n\n  - empty =\u003E default filter `(&(uniqueIdentifier=%u)(mailEnabled=TRUE))`\n  - e.g. for active directory: `(&(sAMAccountName=%U)(objectClass=person))`\n  - e.g. for openldap: `(&(uid=%U)(objectClass=person))`\n\n##### SASL_PASSWD\n\n  - **empty** =\u003E No sasl_passwd will be created\n  - string =\u003E `\u002Fetc\u002Fpostfix\u002Fsasl_passwd` will be created with the string as password\n\n## SRS (Sender Rewriting Scheme)\n\n##### SRS_EXCLUDE_DOMAINS\n\n  - **empty** =\u003E Envelope sender will be rewritten for all domains\n  - provide comma seperated list of domains to exclude from rewriting\n\n##### SRS_SECRET\n\n  - **empty** =\u003E generated when the container is started for the first time\n  - provide a secret to use in base64\n  - you may specify multiple keys, comma separated. the first one is used for signing and the remaining will be used for verification. this is how you rotate and expire keys\n  - if you have a cluster\u002Fswarm make sure the same keys are on all nodes\n  - example command to generate a key: `dd if=\u002Fdev\u002Furandom bs=24 count=1 2\u003E\u002Fdev\u002Fnull | base64`\n\n##### SRS_DOMAINNAME\n\n  - **empty** =\u003E Derived from OVERRIDE_HOSTNAME, DOMAINNAME, or the container's hostname\n  - Set this if auto-detection fails, isn't what you want, or you wish to have a separate container handle DSNs\n\n## Multi-domain Relay Hosts\n\n#### RELAY_HOST\n\n  - **empty** =\u003E don't configure relay host\n  - default host to relay mail through\n\n#### RELAY_PORT\n\n  - **empty** =\u003E 25\n  - default port to relay mail through\n\n#### RELAY_USER\n\n  - **empty** =\u003E no default\n  - default relay username (if no specific entry exists in postfix-sasl-password.cf)\n\n#### RELAY_PASSWORD\n\n  - **empty** =\u003E no default\n  - password for default relay user\n"},"isEditing":false,"successfulSave":false},"RepoDetailsShortDescriptionFormStore":{"_defaultValues":{"shortDescription":"A fullstack but simple mail server (smtp, imap, antispam, antivirus...)."},"fields":{"shortDescription":{}},"values":{"shortDescription":"A fullstack but simple mail server (smtp, imap, antispam, antivirus...)."},"isEditing":false,"successfulSave":false},"RepoDetailsVisibilityFormStore":{"badRequest":"","error":"","success":"","isPrivate":false,"privateRepoLimit":null,"numPrivateReposAvailable":null,"values":{"confirmRepoName":""},"STATUS":"DEFAULT"},"RepositoryPageStore":{"canEdit":false,"description":"A fullstack but simple mail server (smtp, imap, antispam, antivirus...).","fullDescription":"# docker-mailserver\n\n[![Build Status](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver.svg?branch=master)](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver) [![Docker Pulls](https:\u002F\u002Fimg.shields.io\u002Fdocker\u002Fpulls\u002Ftvial\u002Fdocker-mailserver.svg)](https:\u002F\u002Fhub.docker.com\u002Fr\u002Ftvial\u002Fdocker-mailserver\u002F) [![Docker layers](https:\u002F\u002Fimages.microbadger.com\u002Fbadges\u002Fimage\u002Ftvial\u002Fdocker-mailserver.svg)](https:\u002F\u002Fmicrobadger.com\u002Fimages\u002Ftvial\u002Fdocker-mailserver) [![Github Stars](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fstars\u002Ftomav\u002Fdocker-mailserver.svg?label=github%20%E2%98%85)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Github Stars](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fcontributors\u002Ftomav\u002Fdocker-mailserver.svg)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Github Forks](https:\u002F\u002Fimg.shields.io\u002Fgithub\u002Fforks\u002Ftomav\u002Fdocker-mailserver.svg?label=github%20forks)](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002F) [![Gitter](https:\u002F\u002Fimg.shields.io\u002Fgitter\u002Froom\u002Ftomav\u002Fdocker-mailserver.svg)](https:\u002F\u002Fgitter.im\u002Ftomav\u002Fdocker-mailserver)\n\n\nA fullstack but simple mail server (smtp, imap, antispam, antivirus...).\nOnly configuration files, no SQL database. Keep it simple and versioned.\nEasy to deploy and upgrade.\n\nIncludes:\n\n- postfix with smtp or ldap auth\n- dovecot for sasl, imap (and optional pop3) with ssl support, with ldap auth\n- saslauthd with ldap auth\n- [amavis](https:\u002F\u002Fwww.amavis.org\u002F)\n- [spamassasin](http:\u002F\u002Fspamassassin.apache.org\u002F) supporting custom rules\n- [clamav](https:\u002F\u002Fwww.clamav.net\u002F) with automatic updates\n- opendkim\n- opendmarc\n- [fail2ban](https:\u002F\u002Fwww.fail2ban.org\u002Fwiki\u002Findex.php\u002FMain_Page)\n- [fetchmail](http:\u002F\u002Fwww.fetchmail.info\u002Ffetchmail-man.html)\n- [postscreen](http:\u002F\u002Fwww.postfix.org\u002FPOSTSCREEN_README.html)\n- [postgrey](https:\u002F\u002Fpostgrey.schweikert.ch\u002F)\n- basic [sieve support](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FConfigure-Sieve-filters) using dovecot\n- [LetsEncrypt](https:\u002F\u002Fletsencrypt.org\u002F) and self-signed certificates\n- [setup script](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FSetup-docker-mailserver-using-the-script-setup.sh) to easily configure and maintain your mailserver\n- persistent data and state (but think about backups!)\n- [integration tests](https:\u002F\u002Ftravis-ci.org\u002Ftomav\u002Fdocker-mailserver)\n- [automated builds on docker hub](https:\u002F\u002Fhub.docker.com\u002Fr\u002Ftvial\u002Fdocker-mailserver\u002F)\n\nWhy I created this image: [Simple mail server with Docker](http:\u002F\u002Ftvi.al\u002Fsimple-mail-server-with-docker\u002F)\n\nBefore you open an issue, please have a look this `README`, the [Wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002F) and Postfix\u002FDovecot documentation.\n\n## Requirements\n\nRecommended:\n- 1 CPU\n- 1GB RAM\n\nMinimum:\n- 1 CPU\n- 512MB RAM\n\n**Note:** You'll need to deactivate some services like ClamAV to be able to run on a host with 512MB of RAM.\n\n## Usage\n\n#### Get latest image\n\n    docker pull tvial\u002Fdocker-mailserver:latest\n\n#### Get the tools\n\nDownload the docker-compose.yml, the .env and the setup.sh files:\n\n    curl -o setup.sh https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002Fsetup.sh; chmod a+x .\u002Fsetup.sh\n\n    curl -o docker-compose.yml https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002Fdocker-compose.yml.dist\n\n    curl -o .env https:\u002F\u002Fraw.githubusercontent.com\u002Ftomav\u002Fdocker-mailserver\u002Fmaster\u002F.env.dist\n\n#### Create a docker-compose environment\n\n- Edit the `.env` to your liking. Adapt this file with your FQDN.\n- Install [docker-compose](https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F) in the version `1.6` or higher.\n\n#### Create your mail accounts\n\n    .\u002Fsetup.sh email add \u003Cuser@domain\u003E [\u003Cpassword\u003E]\n\n#### Generate DKIM keys\n\n    .\u002Fsetup.sh config dkim\n\nNow the keys are generated, you can configure your DNS server by just pasting the content of `config\u002Fopendkim\u002Fkeys\u002Fdomain.tld\u002Fmail.txt` in your `domain.tld.hosts` zone.\n\n#### Start the container\n\n    docker-compose up -d mail\n\nYou're done!\n\nAnd don't forget to have a look at the remaining functions of the `setup.sh` script\n\n#### SPF\u002FForwarding Problems\n\nIf you got any problems with SPF and\u002For forwarding mails, give [SRS](https:\u002F\u002Fgithub.com\u002Froehling\u002Fpostsrsd\u002Fblob\u002Fmaster\u002FREADME.md) a try. You enable SRS by setting `ENABLE_SRS=1`. See the variable description for further information.\n\n#### For informational purposes:\n\nYour config folder will be mounted in `\u002Ftmp\u002Fdocker-mailserver\u002F`. To understand how things work on boot, please have a look at [start-mailserver.sh](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fblob\u002Fmaster\u002Ftarget\u002Fstart-mailserver.sh)\n\n`restart: always` ensures that the mail server container (and ELK container when using the mail server together with ELK stack) is automatically restarted by Docker in cases like a Docker service or host restart or container exit.\n\n#### Exposed ports\n* 25 receiving email from other mailservers\n* 465 SSL Client email submission\n* 587 TLS Client email submission\n* 143 StartTLS IMAP client\n* 993 TLS\u002FSSL IMAP client\n* 110 POP3 client\n* 995 TLS\u002FSSL POP3 client\n\n`Note: Port 25 is only for receiving email from other mailservers and not for submitting email. You need to use port 465 or 587 for this.`\n\n##### Examples with just the relevant environmental variables:\n\n```yaml\nversion: '2'\n\nservices:\n  mail:\n    image: tvial\u002Fdocker-mailserver:latest\n    hostname: mail\n    domainname: domain.com\n    container_name: mail\n    ports:\n    - \"25:25\"\n    - \"143:143\"\n    - \"587:587\"\n    - \"993:993\"\n    volumes:\n    - maildata:\u002Fvar\u002Fmail\n    - mailstate:\u002Fvar\u002Fmail-state\n    - .\u002Fconfig\u002F:\u002Ftmp\u002Fdocker-mailserver\u002F\n    environment:\n    - ENABLE_SPAMASSASSIN=1\n    - ENABLE_CLAMAV=1\n    - ENABLE_FAIL2BAN=1\n    - ENABLE_POSTGREY=1\n    - ONE_DIR=1\n    - DMS_DEBUG=0\n    cap_add:\n    - NET_ADMIN\n    - SYS_PTRACE\n\nvolumes:\n  maildata:\n    driver: local\n  mailstate:\n    driver: local\n```\n\n__for ldap setup__:\n\n```yaml\nversion: '2'\n\nservices:\n  mail:\n    image: tvial\u002Fdocker-mailserver:latest\n    hostname: mail\n    domainname: domain.com\n    container_name: mail\n    ports:\n      - \"25:25\"\n      - \"143:143\"\n      - \"587:587\"\n      - \"993:993\"\n    volumes:\n      - maildata:\u002Fvar\u002Fmail\n      - mailstate:\u002Fvar\u002Fmail-state\n      - .\u002Fconfig\u002F:\u002Ftmp\u002Fdocker-mailserver\u002F\n    environment:\n      - ENABLE_SPAMASSASSIN=1\n      - ENABLE_CLAMAV=1\n      - ENABLE_FAIL2BAN=1\n      - ENABLE_POSTGREY=1\n      - ONE_DIR=1\n      - DMS_DEBUG=0\n      - ENABLE_LDAP=1\n      - LDAP_SERVER_HOST=ldap # your ldap container\u002FIP\u002FServerName\n      - LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain\n      - LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain\n      - LDAP_BIND_PW=admin\n      - LDAP_QUERY_FILTER_USER=\"(&(mail=%s)(mailEnabled=TRUE))\"\n      - LDAP_QUERY_FILTER_GROUP=\"(&(mailGroupMember=%s)(mailEnabled=TRUE))\"\n      - LDAP_QUERY_FILTER_ALIAS=\"(&(mailAlias=%s)(mailEnabled=TRUE))\"\n      - DOVECOT_PASS_FILTER=\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"\n      - DOVECOT_USER_FILTER=\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"\n      - ENABLE_SASLAUTHD=1\n      - SASLAUTHD_MECHANISMS=ldap\n      - SASLAUTHD_LDAP_SERVER=ldap\n      - SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain\n      - SASLAUTHD_LDAP_PASSWORD=admin\n      - SASLAUTHD_LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain\n      - POSTMASTER_ADDRESS=postmaster@localhost.localdomain\n    cap_add:\n      - NET_ADMIN\n      - SYS_PTRACE\n\nvolumes:\n  maildata:\n    driver: local\n  mailstate:\n    driver: local\n```\n\n# Environment variables\n\nPlease check [how the container starts](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fblob\u002Fmaster\u002Ftarget\u002Fstart-mailserver.sh) to understand what's expected. Also if an option doesn't work as documented here, check if you are running the latest image!\n\nValue in **bold** is the default value.\n\n## General\n\n##### DMS_DEBUG\n\n  - **0** =\u003E Debug disabled\n  - 1 =\u003E Enables debug on startup\n\n##### ENABLE_CLAMAV\n\n  - **0** =\u003E Clamav is disabled\n  - 1 =\u003E Clamav is enabled\n\n##### ONE_DIR\n\n  - **0** =\u003E state in default directories\n  - 1 =\u003E consolidate all states into a single directory (`\u002Fvar\u002Fmail-state`) to allow persistence using docker volumes\n\n##### ENABLE_POP3\n\n  - **empty** =\u003E POP3 service disabled\n  - 1 =\u003E Enables POP3 service\n\n##### ENABLE_FAIL2BAN\n\n  - **0** =\u003E fail2ban service disabled\n  - 1 =\u003E Enables fail2ban service\n\nIf you enable Fail2Ban, don't forget to add the following lines to your `docker-compose.yml`:\n\n    cap_add:\n      - NET_ADMIN\n\nOtherwise, `iptables` won't be able to ban IPs.\n\n##### SMTP_ONLY\n\n  - **empty** =\u003E all daemons start\n  - 1 =\u003E only launch postfix smtp\n\n##### SSL_TYPE\n\n  - **empty** =\u003E SSL disabled\n  - letsencrypt =\u003E Enables Let's Encrypt certificates\n  - custom =\u003E Enables custom certificates\n  - manual =\u003E Let's you manually specify locations of your SSL certificates for non-standard cases\n  - self-signed =\u003E Enables self-signed certificates\n\nPlease read [the SSL page in the wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002FConfigure-SSL) for more information.\n\n##### TLS_LEVEL\n\n  - **empty** =\u003E modern\n  - modern =\u003E Enables TLSv1.2 and modern ciphers only. (default)\n  - intermediate =\u003E Enables TLSv1, TLSv1.1 and TLSv1.2 and broad compatibility ciphers.\n  - old =\u003E NOT implemented. If you really need it, then customize the TLS ciphers overriding postfix and dovecot settings [ wiki](https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver\u002Fwiki\u002F\n\n##### SPOOF_PROTECTION\nConfigures the handling of creating mails with forged sender addresses.\n  - **empty** =\u003E Mail address spoofing allowed. Any logged in user may create email messages with a forged sender address. See also [Wikipedia](https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEmail_spoofing)(not recommended, but default for backwards compatibility reasons)\n  - 1 =\u003E (recommended) Mail spoofing denied. Each user may only send with his own or his alias addresses. Addresses with [extension delimiters](http:\u002F\u002Fwww.postfix.org\u002Fpostconf.5.html#recipient_delimiter) are not able to send messages.\n\n##### ENABLE_SRS\nEnables the Sender Rewriting Scheme. SRS is needed if your mail server acts as forwarder. See [postsrsd](https:\u002F\u002Fgithub.com\u002Froehling\u002Fpostsrsd\u002Fblob\u002Fmaster\u002FREADME.md#sender-rewriting-scheme-crash-course) for further explanation.\n  - **0** =\u003E Disabled\n  - 1 =\u003E Enabled\n\n##### PERMIT_DOCKER\n\nSet different options for mynetworks option (can be overwrite in postfix-main.cf)\n  - **empty** =\u003E localhost only\n  - host =\u003E Add docker host (ipv4 only)\n  - network =\u003E Add all docker containers (ipv4 only)\n\n##### VIRUSMAILS_DELETE_DELAY\n\nSet how many days a virusmail will stay on the server before being deleted\n  - **empty** =\u003E 7 days\n\n\n##### ENABLE_POSTFIX_VIRTUAL_TRANSPORT\n\nThis Option is activating the Usage of POSTFIX_DAGENT to specify a ltmp client different from default dovecot socket.\n\n- **empty** =\u003E disabled\n- 1 =\u003E enabled\n\n##### POSTFIX_DAGENT\n\nEnabled by ENABLE_POSTFIX_VIRTUAL_TRANSPORT. Specify the final delivery of postfix\n\n- **empty**: fail\n- `lmtp:unix:private\u002Fdovecot-lmtp` (use socket)\n- `lmtps:inet:\u003Chost\u003E:\u003Cport\u003E` (secure lmtp with starttls, take a look at https:\u002F\u002Fsys4.de\u002Fen\u002Fblog\u002F2014\u002F11\u002F17\u002Fsicheres-lmtp-mit-starttls-in-dovecot\u002F)\n- `lmtp:\u003Ckopano-host\u003E:2003` (use kopano as mailstore)\n- etc.\n\n##### ENABLE_MANAGESIEVE\n\n  - **empty** =\u003E Managesieve service disabled\n  - 1 =\u003E Enables Managesieve on port 4190\n\n##### OVERRIDE_HOSTNAME\n\n  - **empty** =\u003E uses the `hostname` command to get the mail server's canonical hostname\n  - =\u003E Specify a fully-qualified domainname to serve mail for.  This is used for many of the config features so if you can't set your hostname (e.g. you're in a container platform that doesn't let you) specify it in this environment variable.\n\n##### POSTMASTER_ADDRESS\n\n  - **empty** =\u003E postmaster@domain.com\n  - =\u003E Specify the postmaster address\n\n\n##### POSTSCREEN_ACTION\n\n  - **enforce** =\u003E Allow other tests to complete. Reject attempts to deliver mail with a 550 SMTP reply, and log the helo\u002Fsender\u002Frecipient information. Repeat this test the next time the client connects.\n  - drop =\u003E Drop the connection immediately with a 521 SMTP reply. Repeat this test the next time the client connects.\n  - ignore =\u003E Ignore the failure of this test. Allow other tests to complete. Repeat this test the next time the client connects. This option is useful for testing and collecting statistics without blocking mail.\n\n\n##### REPORT_RECIPIENT\n\n  Enables a report being sent (created by pflogsumm) on a regular basis.\n  - **0** =\u003E Report emails are disabled\n  - 1 =\u003E Using POSTMASTER_ADDRESS as the recipient\n  - =\u003E Specify the recipient address\n\n##### REPORT_SENDER\n\n  Change the sending address for mail report\n  - **empty** =\u003E mailserver-report@hostname\n  - =\u003E Specify the report sender (From) address\n\n\n##### REPORT_INTERVAL\n\n  changes the interval in which a report is being sent.\n  - **daily** =\u003E Send a daily report\n  - weekly =\u003E Send a report every week\n  - monthly =\u003E Send a report every month\n\nNote: This Variable actually controls logrotate inside the container and rotates the log depending on this setting. The main log output is still available in its entirety via `docker logs mail` (Or your respective container name). If you want to control logrotation for the docker generated logfile see: [Docker Logging Drivers](https:\u002F\u002Fdocs.docker.com\u002Fconfig\u002Fcontainers\u002Flogging\u002Fconfigure\u002F)\n\n## Spamassassin\n\n##### ENABLE_SPAMASSASSIN\n\n  - **0** =\u003E Spamassassin is disabled\n  - 1 =\u003E Spamassassin is enabled\n\n##### SA_TAG\n\n  - **2.0** =\u003E add spam info headers if at, or above that level\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_TAG2\n\n  - **6.31** =\u003E add 'spam detected' headers at that level\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_KILL\n\n  - **6.31** =\u003E triggers spam evasive actions\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n##### SA_SPAM_SUBJECT\n\n  - **\\*\\*\\*SPAM\\*\\*\\*** =\u003E add tag to subject if spam detected\n\nNote: this spamassassin setting needs `ENABLE_SPAMASSASSIN=1`\n\n## Fetchmail\n\n##### ENABLE_FETCHMAIL\n  - **0** =\u003E `fetchmail` disabled\n  - 1 =\u003E `fetchmail` enabled\n\n##### FETCHMAIL_POLL\n  - **300** =\u003E `fetchmail` The number of seconds for the interval\n\n## LDAP\n\n##### ENABLE_LDAP\n\n  - **empty** =\u003E LDAP authentification is disabled\n  - 1 =\u003E LDAP authentification is enabled\n  - NOTE:\n    - A second container for the ldap service is necessary (e.g. [docker-openldap](https:\u002F\u002Fgithub.com\u002Fosixia\u002Fdocker-openldap))\n    - For preparing the ldap server to use in combination with this continer [this](http:\u002F\u002Facidx.net\u002Fwordpress\u002F2014\u002F06\u002Finstalling-a-mailserver-with-postfix-dovecot-sasl-ldap-roundcube\u002F) article may be helpful\n\n##### LDAP_START_TLS\n\n  - **empty** =\u003E no\n  - yes =\u003E LDAP over TLS enabled for Postfix\n\n##### LDAP_SERVER_HOST\n\n  - **empty** =\u003E mail.domain.com\n  - =\u003E Specify the dns-name\u002Fip-address where the ldap-server\n  - NOTE: If you going to use the mailserver in combination with docker-compose you can set the service name here\n\n##### LDAP_SEARCH_BASE\n\n  - **empty** =\u003E ou=people,dc=domain,dc=com\n  - =\u003E e.g. LDAP_SEARCH_BASE=dc=mydomain,dc=local\n\n##### LDAP_BIND_DN\n\n  - **empty** =\u003E cn=admin,dc=domain,dc=com\n  - =\u003E take a look at examples of SASL_LDAP_BIND_DN\n\n##### LDAP_BIND_PW\n\n  - **empty** =\u003E admin\n  - =\u003E Specify the password to bind against ldap\n\n##### LDAP_QUERY_FILTER_USER\n\n  - e.g. `\"(&(mail=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for users\n\n##### LDAP_QUERY_FILTER_GROUP\n\n  - e.g. `\"(&(mailGroupMember=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for groups\n\n##### LDAP_QUERY_FILTER_ALIAS\n\n  - e.g. `\"(&(mailAlias=%s)(mailEnabled=TRUE))\"`\n  - =\u003E Specify how ldap should be asked for aliases\n\n##### DOVECOT_TLS\n\n  - **empty** =\u003E no\n  - yes =\u003E LDAP over TLS enabled for Dovecot\n\n## Dovecot\n\n##### DOVECOT_USER_FILTER\n\n  - e.g. `\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"`\n\n##### DOVECOT_PASS_FILTER\n\n  - e.g. `\"(&(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n))\"`\n\n## Postgrey\n\n##### ENABLE_POSTGREY\n\n  - **0** =\u003E `postgrey` is disabled\n  - 1 =\u003E `postgrey` is enabled\n\n##### POSTGREY_DELAY\n\n  - **300** =\u003E greylist for N seconds\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n##### POSTGREY_MAX_AGE\n\n  - **35** =\u003E delete entries older than N days since the last time that they have been seen\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n##### POSTGREY_TEXT\n\n  - **Delayed by postgrey** =\u003E response when a mail is greylisted\n\nNote: This postgrey setting needs `ENABLE_POSTGREY=1`\n\n## SASL Auth\n\n##### ENABLE_SASLAUTHD\n\n  - **0** =\u003E `saslauthd` is disabled\n  - 1 =\u003E `saslauthd` is enabled\n\n##### SASLAUTHD_MECHANISMS\n\n  - empty =\u003E pam\n  - `ldap` =\u003E authenticate against ldap server\n  - `shadow` =\u003E authenticate against local user db\n  - `mysql` =\u003E authenticate against mysql db\n  - `rimap` =\u003E authenticate against imap server\n  - NOTE: can be a list of mechanisms like pam ldap shadow\n\n##### SASLAUTHD_MECH_OPTIONS\n\n  - empty =\u003E None\n  - e.g. with SASLAUTHD_MECHANISMS rimap you need to specify the ip-address\u002Fservername of the imap server  ==\u003E xxx.xxx.xxx.xxx\n\n##### SASLAUTHD_LDAP_SERVER\n\n  - empty =\u003E localhost\n\n##### SASLAUTHD_LDAP_SSL\n\n  - empty or 0 =\u003E `ldap:\u002F\u002F` will be used\n  - 1 =\u003E `ldaps:\u002F\u002F` will be used\n\n##### SASLAUTHD_LDAP_BIND_DN\n\n  - empty =\u003E anonymous bind\n  - specify an object with priviliges to search the directory tree\n  - e.g. active directory: SASLAUTHD_LDAP_BIND_DN=cn=Administrator,cn=Users,dc=mydomain,dc=net\n  - e.g. openldap: SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=mydomain,dc=net\n\n##### SASLAUTHD_LDAP_PASSWORD\n\n  - empty =\u003E anonymous bind\n\n##### SASLAUTHD_LDAP_SEARCH_BASE\n\n  - empty =\u003E Reverting to SASLAUTHD_MECHANISMS pam\n  - specify the search base\n\n##### SASLAUTHD_LDAP_FILTER\n\n  - empty =\u003E default filter `(&(uniqueIdentifier=%u)(mailEnabled=TRUE))`\n  - e.g. for active directory: `(&(sAMAccountName=%U)(objectClass=person))`\n  - e.g. for openldap: `(&(uid=%U)(objectClass=person))`\n\n##### SASL_PASSWD\n\n  - **empty** =\u003E No sasl_passwd will be created\n  - string =\u003E `\u002Fetc\u002Fpostfix\u002Fsasl_passwd` will be created with the string as password\n\n## SRS (Sender Rewriting Scheme)\n\n##### SRS_EXCLUDE_DOMAINS\n\n  - **empty** =\u003E Envelope sender will be rewritten for all domains\n  - provide comma seperated list of domains to exclude from rewriting\n\n##### SRS_SECRET\n\n  - **empty** =\u003E generated when the container is started for the first time\n  - provide a secret to use in base64\n  - you may specify multiple keys, comma separated. the first one is used for signing and the remaining will be used for verification. this is how you rotate and expire keys\n  - if you have a cluster\u002Fswarm make sure the same keys are on all nodes\n  - example command to generate a key: `dd if=\u002Fdev\u002Furandom bs=24 count=1 2\u003E\u002Fdev\u002Fnull | base64`\n\n##### SRS_DOMAINNAME\n\n  - **empty** =\u003E Derived from OVERRIDE_HOSTNAME, DOMAINNAME, or the container's hostname\n  - Set this if auto-detection fails, isn't what you want, or you wish to have a separate container handle DSNs\n\n## Multi-domain Relay Hosts\n\n#### RELAY_HOST\n\n  - **empty** =\u003E don't configure relay host\n  - default host to relay mail through\n\n#### RELAY_PORT\n\n  - **empty** =\u003E 25\n  - default port to relay mail through\n\n#### RELAY_USER\n\n  - **empty** =\u003E no default\n  - default relay username (if no specific entry exists in postfix-sasl-password.cf)\n\n#### RELAY_PASSWORD\n\n  - **empty** =\u003E no default\n  - password for default relay user\n","hasStarred":false,"isPrivate":false,"isAutomated":true,"lastUpdated":"2018-10-01T06:44:26.117806Z","name":"docker-mailserver","namespace":"tvial","status":1,"globalFormError":"","STATUS":"DEFAULT"},"AutoBuildSettingsStore":{"autoBuildStore":{"repository":167967,"build_name":"tomav\u002Fdocker-mailserver","provider":"github","source_url":"https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver.git","docker_url":"tvial\u002Fdocker-mailserver","repo_web_url":"https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver","repo_type":"git","active":true,"repo_id":"33037215","build_tags":[{"id":74555,"name":"latest","dockerfile_location":"\u002F","source_name":"master","source_type":"Branch"},{"id":269142,"name":"2.1","dockerfile_location":"\u002F","source_name":"2.1","source_type":"Tag"},{"id":289747,"name":"1.0","dockerfile_location":"\u002F","source_name":"v1","source_type":"Branch"},{"id":406383,"name":"elk","dockerfile_location":"\u002Felk","source_name":"master","source_type":"Branch"},{"id":527409,"name":"2.2","dockerfile_location":"\u002F","source_name":"2.2","source_type":"Tag"},{"id":607004,"name":"2.3","dockerfile_location":"\u002F","source_name":"2.3","source_type":"Tag"},{"id":879687,"name":"stable","dockerfile_location":"\u002F","source_name":"stable","source_type":"Branch"},{"id":879688,"name":"release-{sourceref}","dockerfile_location":"\u002F","source_name":"\u002F^v[0-9.]+$\u002F","source_type":"Tag"}],"deploykey":null,"hook_id":4452214,"webhook_id":"4452214"},"autoBuildBlankSlate":{"repository":167967,"build_name":"tomav\u002Fdocker-mailserver","provider":"github","source_url":"https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver.git","docker_url":"tvial\u002Fdocker-mailserver","repo_web_url":"https:\u002F\u002Fgithub.com\u002Ftomav\u002Fdocker-mailserver","repo_type":"git","active":true,"repo_id":"33037215","build_tags":[{"id":74555,"name":"latest","dockerfile_location":"\u002F","source_name":"master","source_type":"Branch"},{"id":269142,"name":"2.1","dockerfile_location":"\u002F","source_name":"2.1","source_type":"Tag"},{"id":289747,"name":"1.0","dockerfile_location":"\u002F","source_name":"v1","source_type":"Branch"},{"id":406383,"name":"elk","dockerfile_location":"\u002Felk","source_name":"master","source_type":"Branch"},{"id":527409,"name":"2.2","dockerfile_location":"\u002F","source_name":"2.2","source_type":"Tag"},{"id":607004,"name":"2.3","dockerfile_location":"\u002F","source_name":"2.3","source_type":"Tag"},{"id":879687,"name":"stable","dockerfile_location":"\u002F","source_name":"stable","source_type":"Branch"},{"id":879688,"name":"release-{sourceref}","dockerfile_location":"\u002F","source_name":"\u002F^v[0-9.]+$\u002F","source_type":"Tag"}],"deploykey":null,"hook_id":4452214,"webhook_id":"4452214"},"autoBuildLinks":[],"triggerStatus":{"token":"","trigger_url":"","active":false},"triggerLinkForm":{"repoName":""},"triggerLogs":[],"validations":{"buildTags":{"hasError":false,"success":false,"errors":[]},"links":{"hasError":false,"success":false,"error":""},"trigger":{"success":"","error":""}},"newTags":[],"STATUS":"DEFAULT"}}},"options":{"optimizePromiseCallback":false},"plugins":{}},"plugins":{}}; window.ReduxApp = {"ui":{"__reducers":{}},"repos":{},"scans":{},"status":{},"tags":{}};</script><script src="./hub.docker.com_files/bugsnag-2.min.js.download" data-apikey="d639ea00dd6e493b739de27a7ee0f90c"></script><script src="./hub.docker.com_files/recurly.js.download"></script><script src="https://hub.docker.com/public/js/client.bd8c1b939f4739040d02.js" defer=""></script><script>(
        function(w,d,s,l,i){
          w[l]=w[l]||[];
          w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
          var f=d.getElementsByTagName(s)[0],
              j=d.createElement(s),
              dl=l!='dataLayer'?'&l='+l:'';
          j.async=true;
          j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;
          f.parentNode.insertBefore(j,f);
        }
      )(window,document,'script','dataLayer','GTM-KB4JTX');</script><script type="text/javascript">(
      function(){
        window._pxAppId ='PXPmP8ILuI';
        window._pxPubHost = 'collector.a';
        var p = document.getElementsByTagName('script')[0],
        s = document.createElement('script');
        s.async = 1;
        s.src = '//client.a.pxi.pub/PXPmP8ILuI/main.min.js';
        p.parentNode.insertBefore(s,p);
      }());</script><noscript><div style="position:fixed;top:0px;left:0px;width:1px;height:1px;"><img src="//collector.a.pxi.pub/api/v1/collector/noScript.gif?appId=PXPmP8ILuI"/></div></noscript><a href="https://hub.docker.com/r/tvial/docker-mailserver/?_pxhcb=1539384088954" rel="nofollow" target="_blank" style="width: 0px; height: 0px; font-size: 0px; line-height: 0;"></a></body></html>